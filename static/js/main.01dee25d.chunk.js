(this["webpackJsonpzombie-game"]=this["webpackJsonpzombie-game"]||[]).push([[0],{32:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,l,d,u,s,b,p,f,m,O,j,v,h,g,y,x,w,L,C,S,k,E,P,I,q,F,N,M,z,T,B,_,A,R,W,D,H,X,G,J,U=n(2),V=n.n(U),Y=n(9),K=n.n(Y),Q=n(0),Z=n(3),$=n(5),ee=n(4),te=(n(32),n(1)),ne=ee.b.div(r||(r=Object(Z.a)(["\n  text-align: center;\n  vertical-align: middle;\n  border: 1px solid lightgrey;\n  cursor: pointer;\n  &:hover {\n    color: pink;\n  }\n\n  &:active {\n    color: red;\n  }\n\n  transform: ",";\n\n  grid-area: ",";\n"])),(function(e){switch(e.direction){case"top":return"rotate(-90deg)";case"bottom":return"rotate(90deg)";case"left":return"rotate(-180deg)"}}),(function(e){switch(e.direction){case"top":return"arrow_top;";case"bottom":return"arrow_bottom";case"left":return"arrow_left";case"right":return"arrow_right"}})),re=ee.b.div(a||(a=Object(Z.a)(['\n  display: grid;\n  grid-template-areas:\n    ". arrow_top ."\n    "arrow_left . arrow_right "\n    ". arrow_bottom . ";\n  width: 100px;\n  height: 100px;\n  & > * {\n    padding: 6px;\n    box-sizing: border-box;\n    background-color: white;\n  }\n']))),ae=function(){var e=Object($.b)(),t=function(t){return Object(te.jsx)(ne,{direction:t,onClick:function(){e({type:"playerMoved",payload:t})},children:">"})};return Object(te.jsxs)(re,{children:[t("top"),t("right"),t("left"),t("bottom")]})},ie=n(7),ce=ee.b.div(i||(i=Object(Z.a)(["\n  border: 1px solid lightgray;\n  width: 100px;\n  height: 100px;\n  display: grid;\n  background-color: white;\n"]))),oe=ee.b.button(c||(c=Object(Z.a)(["\n  margin: 0 auto;\n  cursor: pointer;\n"]))),le=ee.b.div(o||(o=Object(Z.a)(["\n  height: 30px;\n  margin-top: 20px;\n  text-align: center;\n"]))),de=function(){var e=Object($.b)(),t=Object($.c)((function(e){return[e.dice]})),n=Object(ie.a)(t,1)[0];return Object(te.jsxs)(ce,{children:[Object(te.jsx)(le,{children:n}),Object(te.jsx)(oe,{onClick:function(){e({type:"diceThrown",payload:Math.floor(4*Math.random()+1)})},children:"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a"})]})},ue=[{coord:{hor:2,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:5},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:8},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:3,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:10},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:8,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:3,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:2},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:2},barrierList:[{name:"window",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:8,vert:2},barrierList:[{name:"window",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:3,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:4,vert:8},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:4,vert:7},barrierList:[{name:"door",direction:"left",isOpen:!0},{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:7},barrierList:[{name:"wall",direction:"left",isOpen:!0},{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:8},barrierList:[{name:"door",direction:"left",isOpen:!0}]},{coord:{hor:8,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:7},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:5},barrierList:[{name:"door",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:8},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:7},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:5},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:2},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:10},barrierList:[{name:null,direction:"left",isOpen:!0}]}],se=0,be=0,pe=11,fe=11,me="closed",Oe="image",je=["top","right","bottom","left"],ve=n.p+"static/media/brain.bdd84960.png",he=Object(ee.a)(l||(l=Object(Z.a)(["\n  position: absolute;\n  width: 50px;\n  height: 50px;\n  background-image: url(",");\n  background-size: 44px;\n  background-repeat: no-repeat;\n  background-position: 3px;\n"])),ve),ge=n.p+"static/media/health.d3aa03e8.png",ye=ee.b.div(d||(d=Object(Z.a)(["\n  ","\n  background-color: ",";\n\n  background-image: ",";\n"])),he,(function(e){if("open"===e.apperance)return"unset"}),(function(e){if("open"===e.apperance)return"url(".concat(ge,")")})),xe=function(e){return Object(te.jsx)(ye,Object(Q.a)({},e))},we=function(e,t){var n=e.split("."),r=Object(ie.a)(n,2),a=r[0],i=r[1],c=parseInt(i)+1,o=parseInt(a)+1,l=parseInt(i)-1,d=parseInt(a)-1;switch(t){case"top":return"".concat(a,".").concat(c);case"bottom":return"".concat(a,".").concat(l);case"left":return"".concat(d,".").concat(i);case"right":return"".concat(o,".").concat(i);default:return"".concat(a,".").concat(i)}},Le=function(e,t){return je.map((function(t){return{direction:t,coord:we(e,t)}})).filter((function(e){e.direction;var n=e.coord;return t.values[n]}))},Ce=function(e,t,n){var r=e.playerList,a=e.numberOfPlayer,i=e.gameField,c=r[a].coord,o=i.values[c],l=i.values[t],d=ke(n),u=Se(o,n),s=Se(l,d);return!(!u&&!s)},Se=function(e,t){if("commonCell"===e.name){if("left"===t||"bottom"===t){var n,r,a=!!(null===(n=e.barrierList)||void 0===n?void 0:n.find((function(e){return"wall"===e.name&&e.direction===t}))),i=!!(null===(r=e.barrierList)||void 0===r?void 0:r.find((function(e){return!1===e.isOpen&&e.direction===t})));return a||i}return!1}},ke=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},Ee=n.p+"static/media/player.78f136ce.png",Pe=ee.b.div(u||(u=Object(Z.a)(["\n  width: 50px;\n  height: 50px;\n  margin: 0px;\n  z-index: 3;\n  text-align: center;\n  padding: 2px;\n  box-sizing: border-box;\n  cursor: default;\n  background-repeat: no-repeat;\n  background-position: 0px;\n  background-image: url(",');\n  background-size: 44px;\n  background-position: 3px;\n  &:before {\n    content: "";\n    position: absolute;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    border: ',";\n    pointer-events: none;\n    opacity: 0.5;\n    padding: 4px;\n\n    left: -3px;\n    top: -3px;\n  }\n"])),Ee,(function(e){if(e.needHighlightning)return"3px solid #34b834;"})),Ie=ee.b.div(s||(s=Object(Z.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  z-index: 3;\n  font-size: 12px;\n  font-weight: bold;\n"]))),qe=function(e){var t=Object($.b)(),n=Object($.c)((function(e){return Object(Q.a)({},e)})),r=n.playerList,a=n.numberOfPlayer,i=e.playerListOnCell,c=e.getContextMenu,o=Fe(n),l=r[a].coord,d=o.concat(l),u=r[a].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),s=(null===u||void 0===u?void 0:u.name)||null;return Object(te.jsx)(Ie,{children:i.map((function(e,n){var r=o.includes(e.coord),i=d.includes(e.coord);return Object(te.jsx)(Pe,{id:"player".concat(e.orderNumber),isCurrent:a==e.orderNumber,needHighlightning:Me(r,i,s),onClick:function(){Ne(c,e,a,r,s,t)}},n)}))})},Fe=function(e){var t=e.gameState,n=e.playerList,r=e.numberOfPlayer,a=e.gameField,i=n[r].coord,c=Le(i,a).filter((function(t){var n=t.direction,r=t.coord;return function(e,t,n){var r=e.gameField;switch(e.playerList,e.dice,!r.values[t]){case!0:return!1;case!1:switch(!0){case Ce(e,t,n):return!1;default:return!0}default:return!0}}(e,r,n)})).map((function(e){e.direction;return e.coord}));switch(t.type){case"gameStarted.applyCard":return c;default:return[]}},Ne=function(e,t,n,r,a,i){var c=t.orderNumber==n;switch(r){case!0:switch(a){case"health":switch(c){case!0:i({type:"req-healPlayer",payload:t.orderNumber});break;case!1:e(t.orderNumber)}break;case"weapon":case"boards":switch(c){case!0:break;case!1:i({type:"req-shareCard",payload:t.orderNumber})}}break;case!1:console.log("\u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0430")}},Me=function(e,t,n){switch(t){case!0:switch(n){case"health":return!0;case"weapon":case"boards":switch(e){case!0:return!0;case!1:return!1}default:return!1}case!1:return!1}},ze=n.p+"static/media/zombie.0f20e592.png",Te=ee.b.div(b||(b=Object(Z.a)(["\n  ","\n\n  font-size: 47px;\n  text-align: start;\n  vertical-align: bottom;\n  line-height: 0.15;\n  text-transform: unset;\n  font-family: sans-serif;\n  text-indent: -4px;\n\n  cursor: pointer;\n\n  background-color: ",";\n\n  cursor: ",";\n\n  background-image: ",";\n"])),he,(function(e){if("open"===e.apperance||"defeated"===e.apperance)return"unset"}),(function(e){return"closed"===e.apperance?"default":"pointer"}),(function(e){if("open"===e.apperance||"defeated"===e.apperance)return"url(".concat(ze,")")})),Be=ee.b.div(p||(p=Object(Z.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  /*   width: 50px;\n  height: 50px; */\n"]))),_e=function(e){var t=Object($.b)(),n=Object($.c)((function(e){return Object(Q.a)({},e)})),r=n.numberOfPlayer,a=n.playerList,i=e.list;return Object(te.jsx)(Be,{children:i.map((function(e,n){return Object(te.jsx)(Te,Object(Q.a)(Object(Q.a)({},e),{},{onClick:function(){if(!(a[r].coord===e.coord))return null;t({type:"req-defeatEnemy"})}}),n)}))})},Ae=n.p+"static/media/boards.3824da3f.png",Re=ee.b.div(f||(f=Object(Z.a)(["\n  ","\n  background-color: ",";\n\n  background-image: ",";\n\n  border-color: ",";\n"])),he,(function(e){if("open"===e.apperance)return"unset"}),(function(e){if("open"===e.apperance)return"url(".concat(Ae,")")}),(function(e){if("open"===e.apperance)return"gray"})),We=function(e){return Object(te.jsx)(Re,Object(Q.a)({},e))},De=n.p+"static/media/weapon.b3c5e028.png",He=ee.b.div(m||(m=Object(Z.a)(["\n  ","\n  background-color: ",";\n\n  border-color: ",";\n  background-image: ",";\n"])),he,(function(e){if("open"===e.apperance)return"unset"}),(function(e){if("open"===e.apperance)return"gray"}),(function(e){if("open"===e.apperance)return"url(".concat(De,")")})),Xe=function(e){return Object(te.jsx)(He,Object(Q.a)({},e))},Ge=function(e,t,n){var r=e.cardItem.find((function(e){return"health"===(null===e||void 0===e?void 0:e.name)})),a=e.cardItem.find((function(e){return"boards"===(null===e||void 0===e?void 0:e.name)})),i=e.cardItem.find((function(e){return"weapon"===(null===e||void 0===e?void 0:e.name)}));return Object(te.jsxs)(te.Fragment,{children:[r?Object(te.jsx)(xe,{apperance:r.apperance,className:""},"".concat(t,".").concat(n,".health")):null,a?Object(te.jsx)(We,{apperance:a.apperance},"".concat(t,".").concat(n,".boards")):null,i?Object(te.jsx)(Xe,{apperance:i.apperance},"".concat(t,".").concat(n,".weapon")):null]})},Je=function(e,t,n,r,a,i){var c=[];for(var o in t){t[o].coord===e&&c.push(t[o])}return c.length>0?Object(te.jsx)(qe,{playerListOnCell:c,getContextMenu:r}):null},Ue=function(e,t,n,r){var a=[];for(var i in t){t[i].coord===e&&a.push(t[i])}return a.length>0?Object(te.jsx)(_e,{list:a},"".concat(n,".").concat(r,".enemy")):null},Ve=ee.b.div(O||(O=Object(Z.a)(["\n  cursor: ",";\n\n  &:before {\n    display: ",';\n\n    content: "";\n    position: absolute;\n    width: 50px;\n    height: 50px;\n    bottom: 0px;\n    z-index: 5;\n    height: ',";\n\n    width: ",";\n\n    background-color: ",";\n  }\n\n  &:after {\n    display: ",';\n\n    content: "";\n    z-index: 5;\n    position: absolute;\n    width: 50px;\n    height: 50px;\n\n    top: ',";\n    height: ",";\n    width: ",";\n    bottom: ",";\n    left: ",";\n\n    background-color: ",";\n  }\n"])),(function(e){var t;switch(null===(t=e.barrierItem)||void 0===t?void 0:t.name){case"wall":return"default";case"door":case"window":return"pointer";default:return"default"}}),(function(e){if("image"===e.mode)return"none"}),(function(e){var t,n;if("bottom"!==(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return e.barrierItem&&"left"===e.barrierItem.direction&&null!==e.barrierItem.name?"50px":e.barrierItem&&null===e.barrierItem.name?"5px":"0px";if(!1===(null===(n=e.barrierItem)||void 0===n?void 0:n.isOpen))return"10px";switch(e.barrierItem.name){case"wall":return"5px";case"door":case"window":return"3px";default:return"0px"}}),(function(e){var t,n;if("left"!==(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"none";if(!1===(null===(n=e.barrierItem)||void 0===n?void 0:n.isOpen))return"10px";switch(e.barrierItem.name){case"wall":return"5px ";case"door":case"window":return"3px";default:return"5px"}}),(function(e){var t,n;if(!(null===(t=e.barrierItem)||void 0===t?void 0:t.isOpen))return!1===(null===(n=e.barrierItem)||void 0===n?void 0:n.isOpen)?"#66615d;":"none";var r,a=null===(r=e.highlightningList)||void 0===r?void 0:r.find((function(e){return"bottom"===e||"left"}));switch(e.barrierItem.name){case"wall":return"#f09308;";case"door":return a?"#78ff2d":" #584324;";case"window":return a?"#78ff2d":" #a3cdd8;";default:return"#f09308"}}),(function(e){if("image"===e.mode)return"none"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"0"}),(function(e){var t;if("bottom"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction)&&e.barrierItem)return"20px"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"20px"}),(function(e){var t;if("bottom"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"-10px"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"-10px"}),(function(e){var t,n;if(null===(t=e.barrierItem)||void 0===t?void 0:t.isOpen)return(null===(n=e.highlightningList)||void 0===n?void 0:n.find((function(e){return"bottom"===e||"left"})))?"#79fe2f3d":"none"})),Ye=function(e){var t=Object($.b)(),n=Object($.c)((function(e){return Object(Q.a)({},e)})),r=n.gameField,a=n.playerList,i=n.numberOfPlayer,c=n.gameState,o=e.orderIndex,l=r.values[o],d=a[i].coord,u=Le(d,r),s=u.map((function(e){e.direction;return e.coord})).concat(d).find((function(e){return o===e})),b=Qe(u,r,d,c,a,i);switch(l.name){case"commonCell":var p,f=null===(p=l.barrierList)||void 0===p?void 0:p.map((function(e){return Object(te.jsx)(Ve,{barrierItem:e,highlightningList:s?Ke(b,o,e.direction):null,mode:Oe,onClick:function(){if(!!!b.find((function(t){return(null===t||void 0===t?void 0:t.coord)===o&&(null===t||void 0===t?void 0:t.direction)===e.direction&&!0===e.isOpen})))return null;t({type:"req-fillHole",payload:{coord:o,direction:e.direction}})},children:" "},e.direction)}));return Object(te.jsx)(te.Fragment,{children:f});default:return null}},Ke=function(e,t,n){return e.filter((function(e){return(null===e||void 0===e?void 0:e.coord)===t&&(null===e||void 0===e?void 0:e.direction)===n})).map((function(e){if(e){var t=e.direction;e.coord;return t}return null}))},Qe=function(e,t,n,r,a,i){var c=t.values[n],o=e.map((function(e){var r=e.direction,a=e.coord,i=Ze(c,r),o=t.values[a],l=$e(r),d=Ze(o,l);return i?{direction:r,coord:n}:d?{direction:l,coord:a}:null})).filter((function(e){return null!==e}));switch(r.type){case"gameStarted.applyCard":var l=a[i].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)}));return"boards"===(null===l||void 0===l?void 0:l.name)?o:[];default:return[]}},Ze=function(e,t){if("commonCell"===e.name){if("left"===t||"bottom"===t){var n,r,a=!!(null===(n=e.barrierList)||void 0===n?void 0:n.find((function(e){return"window"===e.name}))),i=!!(null===(r=e.barrierList)||void 0===r?void 0:r.find((function(e){return"door"===e.name})));return a||i}return!1}return!1},$e=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},et=ee.b.div(j||(j=Object(Z.a)(["\n  position: relative;\n"]))),tt=ee.b.div(v||(v=Object(Z.a)(["\n  display: flex;\n  position: relative;\n  box-sizing: border-box;\n\n  font-size: 14px;\n  text-align: right;\n  width: 50px;\n  height: 50px;\n  color: lightgrey;\n\n  border: ",";\n\n  background-color: ",";\n"])),(function(e){if("cssStyle"===e.mode)return"1px solid lightgray"}),(function(e){if(e.hasMarker)return"rgb(55 163 0 / 77%);"})),nt=ee.b.div(h||(h=Object(Z.a)(["\n  position: relative;\n  display: flex;\n  width: 134px;\n  height: 100px;\n  background-color: rgb(47 84 96 / 77%);\n  left: -30px;\n  bottom: 120px;\n  flex-direction: row;\n  justify-content: center;\n  border-radius: 10px;\n  box-shadow: 0px 0px 12px 1px rgb(62 76 81 / 98%);\n\n  left: ",";\n\n  bottom: ",";\n\n  & > * {\n    position: relative;\n    margin: 30px 0;\n    width: 50px;\n    height: 50px;\n  }\n  flex-direction: row;\n\n  align-items: center;\n"])),(function(e){return"".concat(50*Number(e.coordX)-30,"px")}),(function(e){return"".concat(50*Number(e.coordY)+70,"px")})),rt=ee.b.div(g||(g=Object(Z.a)(["\n  position: absolute;\n  z-index: 0;\n  top: 40px;\n  width: 600px;\n  height: 600px;\n  background-color: rgb(229 203 138 / 53%);\n"]))),at=function(e,t){var n,r=e.gameField,a=e.playerList,i=e.numberOfPlayer,c=e.gameState,o=e.enemyList,l=r.order,d=a[i].coord,u=null===(n=e.availableCellsCoords)||void 0===n?void 0:n.concat(d);return l.map((function(e){var n=r.values[e],i=e.split("."),l=Object(ie.a)(i,2),s=l[0],b=l[1],p=null===u||void 0===u?void 0:u.includes(e),f=d.split("."),m=Object(ie.a)(f,2),O=m[0],j=m[1],v=(c.type.includes("interactWithEnemy")||"gameStarted.takeCard"===c.type)&&O===s&&j===b,h=Object(te.jsxs)(te.Fragment,{children:[Ge(n,s,b),Je(e,a,0,t),"commonCell"===n.name?Ue(e,o,s,b):null]});switch(v){case!0:var g=document.getElementById("field");switch(g){case null:return null;default:return Object(te.jsxs)(V.a.Fragment,{children:[Object(te.jsxs)(et,{children:[Object(te.jsx)(tt,{hasMarker:p,isNeedSepareteCards:v,mode:Oe,children:null}),"commonCell"===n.name?Object(te.jsx)(Ye,{orderIndex:e}):null]},"".concat(s,".").concat(b)),K.a.createPortal(Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(rt,{}),Object(te.jsxs)(nt,{coordX:s,coordY:b,children:[h," "]})," "]}),g)]},"".concat(s,".").concat(b))}return null;case!1:return Object(te.jsxs)(et,{children:[Object(te.jsxs)(tt,{hasMarker:p,isNeedSepareteCards:v,mode:Oe,children:[h,null]}),"commonCell"===n.name?Object(te.jsx)(Ye,{orderIndex:e}):null]},"".concat(s,".").concat(b))}}))},it=n.p+"static/media/house.4cae679c.png",ct=ee.b.div(y||(y=Object(Z.a)(["\n  outline: ",";\n\n  margin: 0 auto;\n  width: 100%;\n  transform: rotate(270deg);\n  display: grid;\n  grid-column-start: -1;\n  //\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0438\u0440\u0443\u044e \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435 \u043f\u043e\u043b\u044f\n  grid-template-columns: ",";\n\n  grid-gap: 0px;\n  > * {\n    transform: rotate(90deg);\n  }\n\n  background-image: ",";\n\n  background-color: white;\n  background-size: 600px;\n  box-shadow: 0 0 10px rgb(0 0 0 / 50%);\n"])),(function(e){if("cssStyle"===e.mode)return"2px solid lightgray"}),(function(e){return"repeat(".concat(e.vert," ,50px)")}),(function(e){if("image"===e.mode)return"url(".concat(it,")")})),ot=ee.b.div(x||(x=Object(Z.a)(["\n  display: ",";\n\n  flex-direction: column;\n  position: absolute;\n  width: 100px;\n  height: 100px;\n  background-color: #ffffff;\n  box-shadow: 0 0 10px rgb(0 0 0 / 50%);\n  justify-content: start;\n  padding: 21px 0 0 12px;\n  box-sizing: border-box;\n  left: ",";\n  top: ",";\n"])),(function(e){return"visible"===e.type?"block":"none"}),(function(e){var t,n;return(null===(t=e.coord)||void 0===t?void 0:t.x)?"".concat((null===(n=e.coord)||void 0===n?void 0:n.x)+50,"px"):"0px"}),(function(e){var t;return"".concat(null===(t=e.coord)||void 0===t?void 0:t.y,"px")})),lt=ee.b.button(w||(w=Object(Z.a)(["\n  height: 30px;\n  width: 70px;\n"]))),dt=function(){var e=Object($.b)(),t=Object($.c)((function(e){return Object(Q.a)({},e)})),n=Object(U.useState)({type:"hidden"}),r=Object(ie.a)(n,2),a=r[0],i=r[1],c=(t.gameField,t.playerList,t.enemyList,t.numberOfPlayer),o=fe+1,l=document.getElementById("player".concat(c)),d={x:null===l||void 0===l?void 0:l.getBoundingClientRect().x,y:null===l||void 0===l?void 0:l.getBoundingClientRect().y};return Object(U.useEffect)((function(){switch(a.type){case"visible":var e=document.querySelector("body"),n=function n(r){r.target===document.getElementById("player".concat(t.numberOfPlayer))&&r.stopPropagation(),i((function(e){return Object(Q.a)(Object(Q.a)({},e),{},{type:"hidden"})})),null===e||void 0===e||e.removeEventListener("click",n,{capture:!0})};return null===e||void 0===e||e.addEventListener("click",n,{capture:!0}),function(){null===e||void 0===e||e.removeEventListener("click",n,{capture:!0})}}}),[a.type]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(ct,{vert:o,mode:Oe,children:at(t,(function(e){i({type:"visible",playerNumber:e,coord:d})}))},"grid"),Object(te.jsxs)(ot,{type:a.type,id:"contextMenu",className:"contextMenu",coord:a.coord,children:[Object(te.jsx)(lt,{className:"contextMenu",onClick:function(){e({type:"req-shareCard",payload:a.playerNumber})},children:"\u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c"}),Object(te.jsx)(lt,{onClick:function(){e({type:"req-healPlayer",payload:a.playerNumber})},children:"\u043b\u0435\u0447\u0438\u0442\u044c"})]})]})},ut=n(8),st=ee.b.div(L||(L=Object(Z.a)(["\n  display: flex;\n  align-items: center;\n"]))),bt=ee.b.div(C||(C=Object(Z.a)(["\n  width: 5px;\n  height: 5px;\n  border-radius: 50%;\n  border: 1px solid #f09292;\n  margin: 1px;\n  background-color: ",";\n"])),(function(e){return e.isFilled?"#f09292":"none"})),pt=function(e){var t=Object($.c)((function(e){return Object(Q.a)({},e)})).playerList;return Object(te.jsx)(st,{children:ft(t,e.index).map((function(e,t){return Object(te.jsx)(bt,{isFilled:e},t)}))})},ft=function(e,t){var n=mt(e,t);return new Array(7).fill(0).reduce((function(e,t,r){return[].concat(Object(ut.a)(e),r<n?[!0]:[!1])}),[])},mt=function(e,t){return e[t].health},Ot=ee.b.div(S||(S=Object(Z.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-content: flex-start;\n"]))),jt=ee.b.div(k||(k=Object(Z.a)(["\n  display: flex;\n  cursor: pointer;\n\n  & > * {\n    margin: 2px;\n    position: relative;\n  }\n\n  outline: ",";\n"])),(function(e){if(!0===e.highlighting)return"1px solid red "})),vt=function(e){var t=Object($.b)(),n=Object($.c)((function(e){return Object(Q.a)({},e)})),r=n.playerList,a=(n.gameState,r[e.index].inventory);return Object(te.jsx)(Ot,{children:a.map((function(e,n){return Object(te.jsx)(jt,{highlighting:null===e||void 0===e?void 0:e.isSelected,onClick:function(){t({type:"cardChoosed",payload:{index:n,card:e}})},children:ht(e)},n)}))})},ht=function(e){switch(null===e||void 0===e?void 0:e.name){case"health":return Object(te.jsx)(xe,{apperance:e.apperance});case"boards":return Object(te.jsx)(We,{apperance:e.apperance});case"weapon":return Object(te.jsx)(Xe,{apperance:e.apperance});default:return null}},gt=ee.b.div(E||(E=Object(Z.a)(["\n  width: 250px;\n  height: 200px;\n  border: 1px solid lightgray;\n  padding: 10px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  background-color: white;\n"]))),yt=ee.b.div(P||(P=Object(Z.a)(["\n  width: 50px;\n  height: 70px;\n  border: 1px solid lightgray;\n  font-size: 14px;\n  text-align: center;\n"]))),xt=ee.b.div(I||(I=Object(Z.a)(["\n  display: flex;\n  border: 1px solid lightgray;\n\n  padding: 3px;\n  margin-bottom: 15px;\n  font-size: 14px;\n  width: 150px;\n"]))),wt=Object(ee.b)(xt)(q||(q=Object(Z.a)(["\n  height: 20px;\n"]))),Lt=Object(ee.b)(xt)(F||(F=Object(Z.a)(["\n  height: 100px;\n"]))),Ct=ee.b.div(N||(N=Object(Z.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),St=function(){var e=Object($.c)((function(e){return Object(Q.a)({},e)})).numberOfPlayer;return Object(te.jsxs)(gt,{children:[Object(te.jsx)(Ct,{children:Object(te.jsxs)(yt,{children:["\u0438\u0433\u0440\u043e\u043a ","".concat(e+1)]})}),Object(te.jsxs)(Ct,{children:[Object(te.jsxs)(wt,{children:["\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435:  ",Object(te.jsx)(pt,{index:e})]}),Object(te.jsxs)(Lt,{children:["\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b:  ",Object(te.jsx)(vt,{index:e})]})]})]})},kt=ee.b.div(M||(M=Object(Z.a)(["\n  width: 200px;\n  min-height: 18px;\n  width: 250px;\n  height: 100px;\n  border: 1px solid lightgray;\n  background-color: #fff2d9;\n  text-align: center;\n  font-size: 20px;\n  color: #5f5757;\n  padding-top: 15px;\n  box-sizing: border-box;\n"]))),Et=function(){var e=Object(U.useState)(""),t=Object(ie.a)(e,2),n=t[0],r=t[1],a=Object($.c)((function(e){return Object(Q.a)({},e)})),i=a.dice,c=(a.playerList,a.gameState),o=a.doEffect,l=a.gameResult,d=Pt(c,o,i,l);return Object(U.useEffect)((function(){r((function(){return c.type.includes("interactWithEnemy")?"interactWithEnemy"===c.type?d:"".concat("p\u0435\u0436\u0438\u043c \u0431\u043e\u044f",": ").concat(d):d}))}),[c.type,null===o||void 0===o?void 0:o.type]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(kt,{children:n}),Object(te.jsx)(St,{})]})},Pt=function(e,t,n,r){switch(e.type){case"gameStarted.trownDice":return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a";case"gameStarted.playerMove":return"\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0445\u043e\u0434";case"gameStarted.takeCard":return"\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"gameStarted.applyCard":return"\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"interactWithEnemy.throwBattleDice":return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a";case"interactWithEnemy.applyCard":return"\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0440\u0443\u0436\u0438\u0435";case"interactWithEnemy.makeBattleAction":case"interactWithEnemy":switch(null===t||void 0===t?void 0:t.type){case"!openEnemyCard":return"\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"!getBattleResult":switch(n){case 1:case 2:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(n,": \u0438\u0433\u0440\u043e\u043a \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442 \u043e\u0440\u0443\u0436\u0438\u0435 \u0438\u043b\u0438 \u0431\u0440\u043e\u0441\u0430\u0435\u0442 \u043a\u0443\u0431\u0438\u043a ");case 3:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(n,": \u0438\u0433\u0440\u043e\u043a \u0442\u0435\u0440\u044f\u0435\u0442 1 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435");case 4:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(n,": \u0438\u0433\u0440\u043e\u043a \u0441\u043f\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u0431\u0435\u0433\u0441\u0442\u0432\u043e\u043c ");default:return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a \u0438\u043b\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0440\u0443\u0436\u0438\u0435"}default:return"\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0445\u043e\u0434"}case"endGame":return r;default:return""}},It=ee.b.div(z||(z=Object(Z.a)(["\n  /*  width: 130px; */\n  width: 100%;\n  height: 100px;\n  /*   border: 1px solid lightgray; */\n  display: grid;\n\n  grid-template-rows: 20% auto auto;\n  grid-template-columns: ",";\n  pointer-events: none;\n"])),(function(e){return"repeat(".concat(e.amount," ,25px)")})),qt=ee.b.div(T||(T=Object(Z.a)(["\n  font-size: 12px;\n  text-align: center;\n  grid-row-start: 1;\n  grid-row-end: 2;\n"]))),Ft=ee.b.div(B||(B=Object(Z.a)(["\n  grid-row-start: 2;\n  grid-row-end: 3;\n  & > * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-direction: column;\n    width: 100%;\n  }\n"]))),Nt=ee.b.div(_||(_=Object(Z.a)(["\n  grid-row-start: 3;\n  grid-row-end: 4;\n  & * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-direction: column;\n    box-sizing: border-box;\n    outline: none;\n    /*  & > * {\n      box-sizing: border-box;\n    } */\n  }\n"]))),Mt=function(){return Object(te.jsx)(It,{amount:1,children:new Array(1).fill(0).map((function(e,t){return Object(te.jsxs)(V.a.Fragment,{children:[Object(te.jsx)(qt,{children:"".concat(t+1)}),Object(te.jsx)(Ft,{children:Object(te.jsx)(pt,{index:t})}),Object(te.jsx)(Nt,{children:Object(te.jsx)(vt,{index:t})})]},t)}))})},zt=ee.b.div(A||(A=Object(Z.a)(["\n  margin: 100px;\n"]))),Tt=function(){var e=Object($.c)((function(e){return e.gameResult}));return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(zt,{children:["\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430. ",e]})})},Bt=ee.b.button(R||(R=Object(Z.a)(["\n  height: 22px;\n  margin: 140px;\n"]))),_t=function(){var e=Object($.b)();return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)(Bt,{onClick:function(){e({type:"clickedStartButton"})},children:[" ","\u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"]})})},At=n(6),Rt=function(e){var t={name:"commonCell",cardItem:[]},n={};return e.forEach((function(e){n[e]=t})),n},Wt=function(e){var t,n="".concat(se,".").concat(be),r="".concat(pe,".").concat(fe);return Object(Q.a)(Object(Q.a)({},e),{},(t={},Object(At.a)(t,n,{name:"start",cardItem:[]}),Object(At.a)(t,r,{name:"finish",cardItem:[]}),t))},Dt=function(e){var t=ue.map((function(t){var n=t.coord,r=t.barrierList,a="".concat(n.hor,".").concat(n.vert),i=e[a];return"commonCell"===i.name?[a,Object(Q.a)(Object(Q.a)({},i),{},{barrierList:r})]:[a,i]})),n=Object.fromEntries(t);return Object(Q.a)(Object(Q.a)({},e),n)},Ht=[{card:{name:"health",apperance:me},amount:30},{card:{name:"boards",apperance:me},amount:30},{card:{name:"weapon",apperance:me},amount:30}],Xt=function(e,t){var n=e.map((function(e){var n=Object(ie.a)(e,2),r=n[0],a=n[1];return[r,Object(Q.a)(Object(Q.a)({},a),{},{cardItem:[t.card]})]}));return Object.fromEntries(n)},Gt=function(e,t){var n=Object.entries(e).filter((function(e){var t=Object(ie.a)(e,2)[1];return"commonCell"===t.name&&0===t.cardItem.length})),r=n.length,a=t.amount;return new Array(a).fill(0).reduce((function(e){var t=Jt(e,r);return e?[].concat(Object(ut.a)(e),[t]):[t]}),[]).map((function(e){return n[e]}))},Jt=function e(t,n){var r=Math.floor(Math.random()*n);return t&&t.includes(r)?e(t,n):r},Ut=function(){var e=Vt();return{order:e,values:function(e){var t=Ht.reduce((function(t,n){var r=Object(Q.a)(Object(Q.a)({},e),t),a=Gt(r,n),i=Xt(a,n);return Object(Q.a)(Object(Q.a)({},t),i)}),{});return Object(Q.a)(Object(Q.a)({},e),t)}(function(e){var t=Rt(e),n=Dt(t);return Wt(n)}(e))}},Vt=function(){for(var e=pe,t=fe,n=[],r=0;r<=e;r++)for(var a=0;a<=t;a++){var i="".concat(r,".").concat(a);n.push(i)}return n},Yt=function(){var e="".concat(se,".").concat(be),t=new Array(1).fill(0).map((function(t,n){return[n,{name:"player",health:3,orderNumber:n,coord:e,inventory:[]}]}));return Object.fromEntries(t)},Kt=function(e){var t=Qt(e),n=Zt(t);return $t(n)},Qt=function(e){return Object.entries(e.values).filter((function(e){var t=Object(ie.a)(e,2)[1];return"commonCell"===t.name&&0===t.cardItem.length}))},Zt=function(e){var t=e.length;return new Array(30).fill(0).reduce((function(e){var n=en(e,t);return e?[].concat(Object(ut.a)(e),[n]):[n]}),[]).map((function(t){return Object(ie.a)(e[t],1)[0]}))},$t=function(e){var t=e.map((function(e){var t={name:"enemy",power:1,coord:e,apperance:me};return[t.coord,t]}));return Object.fromEntries(t)},en=function e(t,n){var r=Math.floor(Math.random()*n);return t&&t.includes(r)?e(t,n):r},tn=function(){var e=Ut();return{gameState:{type:"waitingStart"},dice:0,gameResult:"",playerList:Yt(),enemyList:Kt(e),gameField:e,doEffect:null,numberOfPlayer:0}}(),nn=function(e,t){switch(t.type){case"clickedStartButton":return Object(Q.a)(Object(Q.a)({},e),{},{gameState:{type:"gameStarted.trownDice"}});default:return e}},rn=function(e,t){return Object.entries(e).some((function(e){return Object(ie.a)(e,2)[1].coord===t}))},an=function(e,t){var n,r=e.numberOfPlayer,a=cn(e,t.index),i=!!a[r].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),c=(null===(n=t.card)||void 0===n||n.name,Object(Q.a)(Object(Q.a)({},e),{},{playerList:a,gameState:{type:"gameStarted.applyCard"}})),o=Object(Q.a)(Object(Q.a)({},e),{},{playerList:a,gameState:{type:"gameStarted.playerMove"}});switch(i){case!0:return c;case!1:return o}},cn=function(e,t){var n=e.playerList,r=e.numberOfPlayer,a=n[r].inventory,i=a[t],c=a.map((function(e,n){return n===t?Object(Q.a)(Object(Q.a)({},e),{},{isSelected:!(null===i||void 0===i?void 0:i.isSelected)}):Object(Q.a)(Object(Q.a)({},e),{},{isSelected:!1})}));return Object(Q.a)(Object(Q.a)({},n),{},Object(At.a)({},r,Object(Q.a)(Object(Q.a)({},n[r]),{},{inventory:c})))},on=function(e,t){switch(t.type){case"req-checkAvailableNeighboringCell":return dn(e);case"playerMoved":var n=t.payload;return ln(e,n);case"req-cleanAvailableCells":return un(e);case"req-getPlayerMoveResult":return function(e){var t=e.gameField,n=e.playerList,r=e.numberOfPlayer,a=e.dice,i=n[r].coord,c=t.values[i],o=1===a,l="finish"===(null===c||void 0===c?void 0:c.name),d="commonCell"===(null===c||void 0===c?void 0:c.name)&&c.cardItem.length>0,u=!("commonCell"!==(null===c||void 0===c?void 0:c.name)||!e.enemyList[i]);switch(!0){case l:return Object(Q.a)(Object(Q.a)({},e),{},{dice:e.dice-1,gameResult:"\u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438"});case d:return Object(Q.a)(Object(Q.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.takeCard"},doEffect:{type:"!openCard"}});case u:return Object(Q.a)(Object(Q.a)({},e),{},{dice:e.dice-1,gameState:{type:"interactWithEnemy"},doEffect:{type:"!checkApperanceEnemyCard"}});case o:return Object(Q.a)(Object(Q.a)({},e),{},{dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"}});default:return Object(Q.a)(Object(Q.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}})}}(e);case"cardChoosed":var r=t.payload;return an(e,r);default:return e}},ln=function(e,t){var n,r=e.playerList,a=e.numberOfPlayer,i=(e.gameField,r[a].coord),c=we(i,t);switch(null===(n=e.availableCellsCoords)||void 0===n?void 0:n.includes(c)){case!0:var o=function(e,t){var n=e.playerList,r=e.numberOfPlayer;return Object(Q.a)(Object(Q.a)({},n),{},Object(At.a)({},r,Object(Q.a)(Object(Q.a)({},n[r]),{},{coord:t})))}(e,c);return Object(Q.a)(Object(Q.a)({},e),{},{playerList:o,doEffect:{type:"!cleanMarkedCell"}});case!1:default:return e}},dn=function(e){var t=e.playerList,n=e.numberOfPlayer,r=e.gameField,a=t[n].coord,i=Le(a,r).filter((function(t){var n=t.direction,r=t.coord;return function(e,t,n){var r=e.playerList,a=e.dice,i=Ce(e,t,n),c=1===a,o=rn(r,t);switch(!0){case i:case c&&o:return!1;default:return!0}}(e,r,n)})).map((function(e){e.direction;return e.coord}));return Object(Q.a)(Object(Q.a)({},e),{},{availableCellsCoords:i})},un=function(e){e.playerList,e.numberOfPlayer,e.gameField;return Object(Q.a)(Object(Q.a)({},e),{},{doEffect:{type:"!getPlayerMoveResult"},availableCellsCoords:null})},sn=function(e,t){switch(t.type){case"req-openCard":return bn(e);case"req-takeCard":return pn(e);case"req-deleteCard":return fn(e);default:return e}},bn=function(e){var t=e.gameField,n=e.numberOfPlayer,r=e.playerList[n].coord,a=function(e){if("commonCell"===e.name){var t=e.cardItem.map((function(e){return e?Object(Q.a)(Object(Q.a)({},e),{},{apperance:"open"}):null}));return Object(Q.a)(Object(Q.a)({},e),{},{cardItem:t})}return e}(t.values[r]),i=Object(Q.a)(Object(Q.a)({},t),{},{values:Object(Q.a)(Object(Q.a)({},t.values),{},Object(At.a)({},r,a))});return Object(Q.a)(Object(Q.a)({},e),{},{gameField:i,doEffect:{type:"!takeCard"}})},pn=function(e){var t=e.gameField,n=e.numberOfPlayer,r=e.playerList,a=r[n],i=t.values[a.coord].cardItem,c=Object(Q.a)(Object(Q.a)({},a),{},{inventory:[].concat(Object(ut.a)(a.inventory),Object(ut.a)(i))}),o=Object(Q.a)(Object(Q.a)({},r),{},Object(At.a)({},n,c));return Object(Q.a)(Object(Q.a)({},e),{},{doEffect:{type:"!deleteCard"},playerList:o})},fn=function(e){var t=e.gameField,n=e.numberOfPlayer,r=e.playerList[n].coord,a=function(e){return"commonCell"===e.name?Object(Q.a)(Object(Q.a)({},e),{},{cardItem:[]}):e}(t.values[r]),i=Object(Q.a)(Object(Q.a)({},t),{},{values:Object(Q.a)(Object(Q.a)({},t.values),{},Object(At.a)({},r,a))});return Object(Q.a)(Object(Q.a)({},e),{},{gameField:i,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"},dice:0})},mn=function(e,t){switch(t.type){case"diceThrown":return Object(Q.a)(Object(Q.a)({},e),{},{dice:t.payload,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}});default:return e}},On=function(e){return Object(Q.a)(Object(Q.a)({},e),{},{dice:0,gameState:{type:"interactWithEnemy.makeBattleAction"}})},jn=function(e){return Object(Q.a)(Object(Q.a)({},e),{},{dice:0,gameState:{type:"gameStarted.trownDice"}})},vn=function(e){var t=e.playerList,n=e.numberOfPlayer,r=t[n].health-1>0,a=Object(Q.a)(Object(Q.a)({},t),{},Object(At.a)({},n,Object(Q.a)(Object(Q.a)({},t[n]),{},{health:t[n].health-1})));return r?Object(Q.a)(Object(Q.a)({},e),{},{dice:0,gameState:{type:"interactWithEnemy.throwBattleDice"},playerList:a}):(console.log("\u0438\u0433\u0440\u043e\u043a \u2116".concat(n," \u043f\u043e\u0433\u0438\u0431")),Object(Q.a)(Object(Q.a)({},e),{},{gameState:{type:"endGame"},gameResult:"\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438",doEffect:null}))},hn=function(e,t){var n=t,r=e[n].inventory,a=e[n].inventory.findIndex((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)}));return r.filter((function(e,t){return t!==a}))},gn=function(e,t){switch(t.type){case"diceThrown":return Object(Q.a)(Object(Q.a)({},e),{},{dice:t.payload,gameState:{type:"interactWithEnemy"},doEffect:{type:"!getBattleResult"}});default:return e}},yn=function(e,t){var n=e.numberOfPlayer;switch(t.type){case"cardChoosed":var r=function(e,t){var n=e.playerList,r=e.numberOfPlayer,a=n[r].inventory,i=a[t],c=a.map((function(e,n){return n===t?Object(Q.a)(Object(Q.a)({},e),{},{isSelected:!(null===i||void 0===i?void 0:i.isSelected)}):Object(Q.a)(Object(Q.a)({},e),{},{isSelected:!1})}));return Object(Q.a)(Object(Q.a)({},n),{},Object(At.a)({},r,Object(Q.a)(Object(Q.a)({},n[r]),{},{inventory:c})))}(e,t.payload.index),a=!!r[n].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),i=Object(Q.a)(Object(Q.a)({},e),{},{playerList:r,gameState:{type:"interactWithEnemy.applyCard"}}),c=Object(Q.a)(Object(Q.a)({},e),{},{playerList:r,gameState:{type:"interactWithEnemy.makeBattleAction"}});switch(a){case!0:return i;case!1:return c}default:return e}},xn=function(e,t){var n=e.gameState.type.split(".");switch(Object(ie.a)(n,2)[1]){case"makeBattleAction":switch(t.type){case"diceThrown":return gn(e,t);case"cardChoosed":return yn(e,t);default:return e}case"applyCard":switch(t.type){case"cardChoosed":return yn(e,t);case"req-defeatEnemy":return function(e){var t=e.numberOfPlayer,n=e.playerList,r=e.enemyList,a=n[t].coord,i=r[a],c=Object(Q.a)(Object(Q.a)({},i),{},{apperance:"defeated"}),o=Object(Q.a)(Object(Q.a)({},e.enemyList),{},Object(At.a)({},a,c)),l=hn(n,t),d=Object(Q.a)(Object(Q.a)({},n),{},Object(At.a)({},t,Object(Q.a)(Object(Q.a)({},n[t]),{},{inventory:l})));return Object(Q.a)(Object(Q.a)({},e),{},{enemyList:o,playerList:d,doEffect:{type:"!removeEnemyCard"}})}(e);case"req-removeEnemyCard":return function(e){var t=e.enemyList,n=e.numberOfPlayer,r=e.playerList[n].coord,a=Object(Q.a)({},t);return delete a[r],Object(Q.a)(Object(Q.a)({},e),{},{enemyList:a,dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"}})}(e);default:return e}case"throwBattleDice":return gn(e,t);default:switch(t.type){case"req-checkEnemyCard":return function(e){var t="open"!==e.enemyList[e.playerList[e.numberOfPlayer].coord].apperance;switch(!0){case t:return Object(Q.a)(Object(Q.a)({},e),{},{doEffect:{type:"!openEnemyCard"}});case!t:return Object(Q.a)(Object(Q.a)({},e),{},{gameState:{type:"interactWithEnemy.throwBattleDice"},dice:0});default:return e}}(e);case"req-openEnemyCard":return function(e){var t=e.enemyList,n=e.playerList[e.numberOfPlayer].coord,r=t[n],a=Object(Q.a)(Object(Q.a)({},r),{},{apperance:"open"}),i=Object(Q.a)(Object(Q.a)({},t),{},Object(At.a)({},n,a));return Object(Q.a)(Object(Q.a)({},e),{},{enemyList:i,gameState:{type:"interactWithEnemy.throwBattleDice"},dice:0})}(e);case"req-getBattleResult":return function(e){switch(e.dice){case 1:case 2:return On(e);case 3:return vn(e);case 4:return jn(e);default:return e}}(e);default:return e}}},wn=function(e,t){return e[t].health+1},Ln=function(e,t){var n,r=e.numberOfPlayer,a=null===(n=e.playerList[r].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})))||void 0===n?void 0:n.name;switch(t.type){case"req-shareCard":return function(e,t){var n,r=e.playerList,a=e.numberOfPlayer,i=r[a].inventory,c=r[t].inventory,o=r[a].inventory.findIndex((function(e){return null===e||void 0===e?void 0:e.isSelected})),l=Object(ut.a)(i)[o],d=Object(Q.a)(Object(Q.a)({},l),{},{isSelected:!1}),u=i.filter((function(e,t){return t!==o})),s=[].concat(Object(ut.a)(c),[d]),b=Object(Q.a)(Object(Q.a)({},r),{},(n={},Object(At.a)(n,a,Object(Q.a)(Object(Q.a)({},r[a]),{},{inventory:u})),Object(At.a)(n,t,Object(Q.a)(Object(Q.a)({},r[t]),{},{inventory:s})),n));return Object(Q.a)(Object(Q.a)({},e),{},{playerList:b,gameState:{type:"gameStarted.playerMove"}})}(e,t.payload);case"cardChoosed":var i=t.payload;return an(e,i);default:switch(a){case"health":switch(t.type){case"req-healPlayer":var c=t.payload;switch(c===r){case!0:return function(e){var t=e.playerList,n=e.numberOfPlayer,r=n,a=wn(t,r),i=hn(t,n),c=Object(Q.a)(Object(Q.a)({},t),{},Object(At.a)({},r,Object(Q.a)(Object(Q.a)({},t[r]),{},{inventory:i,health:a})));return Object(Q.a)(Object(Q.a)({},e),{},{playerList:c,gameState:{type:"gameStarted.playerMove"}})}(e);case!1:return function(e,t){var n,r=e.playerList,a=e.numberOfPlayer,i=a,c=hn(r,a),o=wn(r,t),l=Object(Q.a)(Object(Q.a)({},r),{},(n={},Object(At.a)(n,t,Object(Q.a)(Object(Q.a)({},r[t]),{},{health:o})),Object(At.a)(n,i,Object(Q.a)(Object(Q.a)({},r[i]),{},{inventory:c})),n));return Object(Q.a)(Object(Q.a)({},e),{},{playerList:l,gameState:{type:"gameStarted.playerMove"}})}(e,c);default:return e}default:return e}case"boards":switch(t.type){case"req-fillHole":var o=t.payload,l=o.coord,d=o.direction;return console.log("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043c",l,d),function(e,t,n){var r=e.gameField,a=e.playerList,i=e.numberOfPlayer,c=i,o=hn(a,i),l=r.values[t];if("commonCell"===l.name){var d,u=null===(d=l.barrierList)||void 0===d?void 0:d.map((function(e){return e.direction===n?Object(Q.a)(Object(Q.a)({},e),{},{isOpen:!1}):e})),s=Object(Q.a)(Object(Q.a)({},r),{},{values:Object(Q.a)(Object(Q.a)({},r.values),{},Object(At.a)({},t,Object(Q.a)(Object(Q.a)({},r.values[t]),{},{barrierList:u})))}),b=Object(Q.a)(Object(Q.a)({},a),{},Object(At.a)({},c,Object(Q.a)(Object(Q.a)({},a[c]),{},{inventory:o})));return Object(Q.a)(Object(Q.a)({},e),{},{gameField:s,playerList:b,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}})}return e}(e,l,d);default:return e}default:return e}}},Cn=function(e,t){var n=e.numberOfPlayer,r=n+1>Object.entries(e.playerList).length-1?0:n+1;switch(t.type){case"req-getNextPlayer":return Object(Q.a)(Object(Q.a)({},e),{},{numberOfPlayer:r,gameState:{type:"gameStarted.trownDice"}});default:return e}},Sn=function(e,t){switch(t.type){case"req-getEndScreen":return Object(Q.a)(Object(Q.a)({},e),{},{gameState:{type:"getEndScreen"}});default:return e}},kn=n(13),En=Object(kn.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0,n=e.gameState.type.split("."),r=Object(ie.a)(n,2),a=r[0],i=r[1];switch(a){case"waitingStart":return nn(e,t);case"gameStarted":switch(i){case"trownDice":return mn(e,t);case"playerMove":return on(e,t);case"takeCard":return sn(e,t);case"applyCard":return Ln(e,t);case"getPlayersOrder":return Cn(e,t);default:return e}case"interactWithEnemy":return xn(e,t);case"endGame":return Sn(e,t);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var Pn=ee.b.div(W||(W=Object(Z.a)(["\n  margin: 0 auto;\n"]))),In=ee.b.div(D||(D=Object(Z.a)(["\n  width: 900px;\n  height: 600px;\n  margin: 40px auto;\n  display: flex;\n  justify-content: center;\n\n  cursor: default;\n  & > * {\n  }\n"]))),qn=ee.b.div(H||(H=Object(Z.a)(["\n  width: 300px;\n  height: 600px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 0;\n  align-items: start;\n  margin: 0 30px;\n  padding: 50px 0;\n  box-sizing: border-box;\n  & > * {\n  }\n"]))),Fn=ee.b.div(X||(X=Object(Z.a)(["\n  display: flex;\n  align-self: start;\n  background-color: white;\n  height: 100px;\n  margin: 0 30px;\n  border-radius: 5px;\n  padding: 5px 0;\n"]))),Nn=ee.b.div(G||(G=Object(Z.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  padding: 0 15px;\n  box-sizing: border-box;\n"])));ee.b.div(J||(J=Object(Z.a)(["\n  position: absolute;\n  z-index: 1;\n  width: 600px;\n  height: 600px;\n  background-color: rgb(218 222 201 / 77%);\n"])));function Mn(){var e=Object($.c)((function(e){return Object(Q.a)({},e)})).gameState;!function(){var e=Object($.c)((function(e){return[e.doEffect]})),t=Object(ie.a)(e,1)[0],n=Object($.b)();Object(U.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!openCard":var e=setTimeout((function(){return n({type:"req-openCard"})}),1e3);return function(){clearTimeout(e)};case"!takeCard":var r=setTimeout((function(){return n({type:"req-takeCard"})}),500);return function(){clearTimeout(r)};case"!changePlayerHealth":var a=setTimeout((function(){return n({type:"req-changePlayerHealth"})}),500);return function(){clearTimeout(a)};case"!deleteCard":var i=setTimeout((function(){return n({type:"req-deleteCard"})}),500);return function(){clearTimeout(i)};case"!getNextPlayer":n({type:"req-getNextPlayer"})}}),[t])}(),function(){var e=Object($.c)((function(e){return[e.doEffect]})),t=Object(ie.a)(e,1)[0],n=Object($.b)();Object(U.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!checkAvailableNeighboringCell":n({type:"req-checkAvailableNeighboringCell"});break;case"!cleanMarkedCell":var e=setTimeout((function(){return n({type:"req-cleanAvailableCells"})}),0);return function(){clearTimeout(e)};case"!getPlayerMoveResult":n({type:"req-getPlayerMoveResult"})}}),[t])}(),function(){var e=Object($.b)(),t=Object($.c)((function(e){return e.gameState}));Object(U.useEffect)((function(){switch(t.type){case"endGame":var n=setTimeout((function(){return e({type:"req-getEndScreen"})}),1e3);return function(){return clearTimeout(n)}}}),[t.type,e])}(),function(){var e=Object($.c)((function(e){return[e.doEffect]})),t=Object(ie.a)(e,1)[0],n=Object($.b)();Object(U.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!checkApperanceEnemyCard":n({type:"req-checkEnemyCard"});break;case"!openEnemyCard":var e=setTimeout((function(){return n({type:"req-openEnemyCard"})}),1e3);return function(){clearTimeout(e)};case"!getBattleResult":var r=setTimeout((function(){return n({type:"req-getBattleResult"})}),2e3);return function(){clearTimeout(r)};case"!removeEnemyCard":var a=setTimeout((function(){return n({type:"req-removeEnemyCard"})}),1e3);return function(){clearTimeout(a)}}}),[t])}();return Object(te.jsx)(In,{children:function(){switch(e.type){case"waitingStart":return Object(te.jsx)(_t,{});case"getEndScreen":return Object(te.jsx)(Tt,{});default:return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Fn,{children:Object(te.jsx)(Mt,{})}),Object(te.jsx)(Pn,{id:"field",children:Object(te.jsx)(dt,{})}),Object(te.jsxs)(qn,{children:[Object(te.jsx)(Et,{}),Object(te.jsxs)(Nn,{children:[Object(te.jsx)(de,{}),Object(te.jsx)(ae,{})]})]})]})}}()})}var zn=function(){return Object(te.jsx)($.a,{store:En,children:Object(te.jsx)(Mn,{})})},Tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};K.a.render(Object(te.jsx)(V.a.StrictMode,{children:Object(te.jsx)(zn,{})}),document.getElementById("root")),Tn()}},[[35,1,2]]]);
//# sourceMappingURL=main.01dee25d.chunk.js.map