(this["webpackJsonpzombie-game"]=this["webpackJsonpzombie-game"]||[]).push([[0],{34:function(e,t,r){"use strict";r.r(t);var n,a,i,c,o,l,d,u,s,b,f,p,m,O,j,v,h,g,y,x,w,L,C,S,E,k,P,I,q,F,M,N,T,z,_,R,A,B,D,H=r(2),X=r.n(H),G=r(12),J=r.n(G),U=r(0),V=r(3),K=r(5),Q=r(4),W=r(1),Y=Q.a.div(n||(n=Object(V.a)(["\n  text-align: center;\n  vertical-align: middle;\n  border: 1px solid lightgrey;\n  cursor: pointer;\n  &:hover {\n    color: pink;\n  }\n\n  &:active {\n    color: red;\n  }\n\n  transform: ",";\n\n  grid-area: ",";\n"])),(function(e){switch(e.direction){case"top":return"rotate(-90deg)";case"bottom":return"rotate(90deg)";case"left":return"rotate(-180deg)"}}),(function(e){switch(e.direction){case"top":return"arrow_top;";case"bottom":return"arrow_bottom";case"left":return"arrow_left";case"right":return"arrow_right"}})),Z=Q.a.div(a||(a=Object(V.a)(['\n  display: grid;\n  grid-template-areas:\n    ". arrow_top ."\n    "arrow_left . arrow_right "\n    ". arrow_bottom . ";\n  width: 100px;\n  height: 100px;\n  & > * {\n    padding: 6px;\n    box-sizing: border-box;\n\n  }\n']))),$=function(){var e=Object(K.b)(),t=function(t){return Object(W.jsx)(Y,{direction:t,onClick:function(){e({type:"playerMoved",payload:t})},children:">"})};return Object(W.jsxs)(Z,{children:[t("top"),t("right"),t("left"),t("bottom")]})},ee=r(7),te=Q.a.div(i||(i=Object(V.a)(["\n  border: 1px solid lightgray;\n  width: 100px;\n  height: 100px;\n  display: grid;\n"]))),re=Q.a.button(c||(c=Object(V.a)(["\n  margin: 0 auto;\n"]))),ne=Q.a.div(o||(o=Object(V.a)(["\n  height: 30px;\n  margin-top: 20px;\n  text-align: center;\n"]))),ae=function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return[e.dice]})),r=Object(ee.a)(t,1)[0];return Object(W.jsxs)(te,{children:[Object(W.jsx)(ne,{children:r}),Object(W.jsx)(re,{onClick:function(){e({type:"diceThrown",payload:Math.floor(4*Math.random()+1)})},children:"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a"})]})},ie=[{coord:{hor:2,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:5},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:8},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:3,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:10},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:8,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:3,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:2},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:2},barrierList:[{name:"window",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:8,vert:2},barrierList:[{name:"window",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:3,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:4,vert:8},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:4,vert:7},barrierList:[{name:"door",direction:"left",isOpen:!0},{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:7},barrierList:[{name:"wall",direction:"left",isOpen:!0},{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:8},barrierList:[{name:"door",direction:"left",isOpen:!0}]},{coord:{hor:8,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:7},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:5},barrierList:[{name:"door",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:8},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:7},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:5},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:2},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:10},barrierList:[{name:null,direction:"left",isOpen:!0}]}],ce=3,oe=5,le=11,de=11,ue="open",se=["top","right","bottom","left"],be=Q.a.div(l||(l=Object(V.a)(["\n  position: absolute;\n  border: 5px solid;\n  width: 15px;\n  height: 15px;\n  margin: 12px;\n\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"gray":"green"}),(function(e){return"closed"===e.apperance?"gray":"green"})),fe=function(e){return Object(W.jsx)(be,Object(U.a)({},e))},pe=function(e,t){var r=e.split("."),n=Object(ee.a)(r,2),a=n[0],i=n[1],c=parseInt(i)+1,o=parseInt(a)+1,l=parseInt(i)-1,d=parseInt(a)-1;switch(t){case"top":return"".concat(a,".").concat(c);case"bottom":return"".concat(a,".").concat(l);case"left":return"".concat(d,".").concat(i);case"right":return"".concat(o,".").concat(i);default:return"".concat(a,".").concat(i)}},me=function(e,t){return se.map((function(t){return{direction:t,coord:pe(e,t)}})).filter((function(e){e.direction;var r=e.coord;return t.values[r]}))},Oe=function(e,t,r){var n=e.playerList,a=e.numberOfPlayer,i=e.gameField,c=n[a].coord,o=i.values[c],l=i.values[t],d=ve(r),u=je(o,r),s=je(l,d);return!(!u&&!s)},je=function(e,t){if("commonCell"===e.name){if("left"===t||"bottom"===t){var r,n,a=!!(null===(r=e.barrierList)||void 0===r?void 0:r.find((function(e){return"wall"===e.name&&e.direction===t}))),i=!!(null===(n=e.barrierList)||void 0===n?void 0:n.find((function(e){return!1===e.isOpen&&e.direction===t})));return a||i}return!1}},ve=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},he=Q.a.div(d||(d=Object(V.a)(["\n  background-color: #9f3f3f;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  margin: 0px;\n  z-index: 3;\n  text-align: center;\n  padding: 4px;\n  box-sizing: border-box;\n  cursor: default;\n\n  background-color: ",';\n\n  &:before {\n    content: "";\n    position: absolute;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    border: ',";\n    pointer-events: none;\n    opacity: 0.5;\n    padding: 4px;\n\n    left: 0px;\n    top: 0px;\n  }\n"])),(function(e){if(e.isCurrent)return"red"}),(function(e){if(e.needHighlightning)return"3px solid #34b834;"})),ge=Q.a.div(u||(u=Object(V.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  z-index: 3;\n  font-size: 12px;\n  font-weight: bold;\n  color: white;\n  padding: 3px;\n"]))),ye=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.playerList,a=r.numberOfPlayer,i=e.playerListOnCell,c=e.getContextMenu,o=xe(r),l=n[a].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),d=(null===l||void 0===l?void 0:l.name)||null;return Object(W.jsx)(ge,{children:i.map((function(e,r){var n=o.includes(e.coord);return Object(W.jsx)(he,{id:"player".concat(e.orderNumber),isCurrent:a==e.orderNumber,needHighlightning:Le(n,d),onClick:function(){we(c,e,a,n,d,t)},children:e.orderNumber+1},r)}))})},xe=function(e){var t=e.gameState,r=e.playerList,n=e.numberOfPlayer,a=e.gameField,i=r[n].coord,c=me(i,a).filter((function(t){var r=t.direction,n=t.coord;return function(e,t,r){var n=e.gameField;switch(e.playerList,e.dice,!n.values[t]){case!0:return!1;case!1:switch(!0){case Oe(e,t,r):return!1;default:return!0}default:return!0}}(e,n,r)})),o=r[n].coord,l=c.map((function(e){e.direction;return e.coord})).concat(o);switch(t.type){case"gameStarted.applyCard":return l;default:return[]}},we=function(e,t,r,n,a,i){var c=t.orderNumber==r;switch(n){case!0:switch(a){case"health":switch(c){case!0:i({type:"req-healPlayer",payload:t.orderNumber});break;case!1:e(t.orderNumber)}break;case"boards":switch(c){case!0:break;case!1:i({type:"req-shareCard",payload:t.orderNumber})}}break;case!1:console.log("\u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0430")}},Le=function(e,t){switch(e){case!0:switch(t){case"boards":return!1;case"health":return!0;default:return!1}case!1:default:return!1}},Ce=Q.a.div(s||(s=Object(V.a)(["\n  position: absolute;\n  border: 5px solid;\n  width: 15px;\n  height: 15px;\n  margin: 12px;\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"lightgray":"navy"}),(function(e){return"closed"===e.apperance?"lightgray":"navy"})),Se=Q.a.div(b||(b=Object(V.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  font-size: 10px;\n"]))),Ee=function(e){var t=e.list;return Object(W.jsx)(Se,{children:t.map((function(e,t){return Object(W.jsx)(Ce,Object(U.a)({},e),t)}))})},ke=Q.a.div(f||(f=Object(V.a)(["\n  position: absolute;\n  border: 1px solid;\n  width: 20px;\n  height: 20px;\n  margin: 12px;\n  color: black;\n  font-size: 20px;\n  text-align: center;\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"gray":"white"}),(function(e){return e.apperance,"gray"})),Pe=function(e){return Object(W.jsx)(ke,Object(U.a)(Object(U.a)({},e),{},{children:"closed"===e.apperance?null:"X"}))},Ie=function(e){var t=e.cardItem.find((function(e){return"health"===(null===e||void 0===e?void 0:e.name)})),r=e.cardItem.find((function(e){return"boards"===(null===e||void 0===e?void 0:e.name)}));return Object(W.jsxs)(W.Fragment,{children:[t?Object(W.jsx)(fe,{apperance:t.apperance}):null,r?Object(W.jsx)(Pe,{apperance:r.apperance}):null]})},qe=function(e,t,r,n){var a=[];for(var i in t){t[i].coord===e&&a.push(t[i])}return a.length>0?Object(W.jsx)(ye,{playerListOnCell:a,getContextMenu:n}):null},Fe=function(e,t){var r=[];for(var n in t){t[n].coord===e&&r.push(t[n])}return r.length>0?Object(W.jsx)(Ee,{list:r}):null},Me=Q.a.div(p||(p=Object(V.a)(['\n  &:before {\n    content: "";\n    position: absolute;\n    width: 50px;\n    height: 50px;\n    bottom: 0px;\n    z-index: 5;\n    height: ',";\n\n    width: ",";\n\n    background-color: ",';\n  }\n  &:after {\n    content: "";\n    z-index: 5;\n    position: absolute;\n    width: 50px;\n    height: 50px;\n\n    top: ',";\n    height: ",";\n    width: ",";\n    bottom: ",";\n    left: ",";\n\n    background-color: ",";\n  }\n"])),(function(e){var t,r;if("bottom"!==(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return e.barrierItem&&"left"===e.barrierItem.direction&&null!==e.barrierItem.name?"50px":e.barrierItem&&null===e.barrierItem.name?"5px":"0px";if(!1===(null===(r=e.barrierItem)||void 0===r?void 0:r.isOpen))return"10px";switch(e.barrierItem.name){case"wall":return"5px";case"door":case"window":return"3px";default:return"0px"}}),(function(e){var t,r;if("left"!==(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"none";if(!1===(null===(r=e.barrierItem)||void 0===r?void 0:r.isOpen))return"10px";switch(e.barrierItem.name){case"wall":return"5px ";case"door":case"window":return"3px";default:return"5px"}}),(function(e){var t,r;if(!(null===(t=e.barrierItem)||void 0===t?void 0:t.isOpen))return!1===(null===(r=e.barrierItem)||void 0===r?void 0:r.isOpen)?"#66615d;":"none";var n,a=null===(n=e.highlightningList)||void 0===n?void 0:n.find((function(e){return"bottom"===e||"left"}));switch(e.barrierItem.name){case"wall":return"#f09308;";case"door":return a?"#78ff2d":" #584324;";case"window":return a?"#78ff2d":" #a3cdd8;";default:return"#f09308"}}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"0"}),(function(e){var t;if("bottom"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction)&&e.barrierItem)return"20px"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"20px"}),(function(e){var t;if("bottom"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"-10px"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"-10px"}),(function(e){var t,r;if(null===(t=e.barrierItem)||void 0===t?void 0:t.isOpen)return(null===(r=e.highlightningList)||void 0===r?void 0:r.find((function(e){return"bottom"===e||"left"})))?"#79fe2f3d":"none"})),Ne=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.gameField,a=r.playerList,i=r.numberOfPlayer,c=r.gameState,o=e.orderIndex,l=n.values[o],d=a[i].coord,u=me(d,n),s=u.map((function(e){e.direction;return e.coord})).concat(d).find((function(e){return o===e})),b=ze(u,n,d,c,a,i);switch(l.name){case"commonCell":var f,p=null===(f=l.barrierList)||void 0===f?void 0:f.map((function(e){return Object(W.jsx)(Me,{barrierItem:e,highlightningList:s?Te(b,o,e.direction):null,onClick:function(){if(!!!b.find((function(t){return(null===t||void 0===t?void 0:t.coord)===o&&(null===t||void 0===t?void 0:t.direction)===e.direction&&!0===e.isOpen})))return null;t({type:"req-fillHole",payload:{coord:o,direction:e.direction}})},children:" "},e.direction)}));return Object(W.jsx)(W.Fragment,{children:p});default:return null}},Te=function(e,t,r){return e.filter((function(e){return(null===e||void 0===e?void 0:e.coord)===t&&(null===e||void 0===e?void 0:e.direction)===r})).map((function(e){if(e){var t=e.direction;e.coord;return t}return null}))},ze=function(e,t,r,n,a,i){var c=t.values[r],o=e.map((function(e){var n=e.direction,a=e.coord,i=_e(c,n),o=t.values[a],l=Re(n),d=_e(o,l);return i?{direction:n,coord:r}:d?{direction:l,coord:a}:null})).filter((function(e){return null!==e}));switch(n.type){case"gameStarted.applyCard":var l=a[i].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)}));return"boards"===(null===l||void 0===l?void 0:l.name)?o:[];default:return[]}},_e=function(e,t){if("commonCell"===e.name){if("left"===t||"bottom"===t){var r,n,a=!!(null===(r=e.barrierList)||void 0===r?void 0:r.find((function(e){return"window"===e.name}))),i=!!(null===(n=e.barrierList)||void 0===n?void 0:n.find((function(e){return"door"===e.name})));return a||i}return!1}return!1},Re=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},Ae=Q.a.div(m||(m=Object(V.a)(["\n  position: relative;\n"]))),Be=Q.a.div(O||(O=Object(V.a)(["\n  position: relative;\n  box-sizing: border-box;\n  border: 1px solid lightgray;\n  font-size: 14px;\n  text-align: right;\n  width: 50px;\n  height: 50px;\n  color: lightgrey;\n  background-color: ",";\n"])),(function(e){if(e.hasMarker)return" rgb(241, 224, 224)"})),De=function(e,t){var r,n=e.gameField,a=e.playerList,i=e.numberOfPlayer,c=(e.gameState,e.enemyList),o=n.order,l=a[i].coord,d=null===(r=e.availableCellsCoords)||void 0===r?void 0:r.concat(l);return o.map((function(e){var r=n.values[e],i=e.split("."),o=Object(ee.a)(i,2),l=o[0],u=o[1],s=null===d||void 0===d?void 0:d.includes(e);return Object(W.jsxs)(Ae,{children:[Object(W.jsxs)(Be,{hasMarker:s,children:[Ie(r),qe(e,a,0,t),"commonCell"===r.name?Fe(e,c):null,"".concat(l,".").concat(u)]}),"commonCell"===r.name?Object(W.jsx)(Ne,{orderIndex:e}):null]},"".concat(l,".").concat(u))}))},He=Q.a.div(j||(j=Object(V.a)(["\n  outline: 2px solid lightgray;\n  margin: 0 auto;\n  width: 100%;\n  transform: rotate(270deg);\n  display: grid;\n  grid-column-start: -1;\n  //\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0438\u0440\u0443\u044e \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435 \u043f\u043e\u043b\u044f\n  grid-template-columns: ",";\n\n  grid-gap: 0px;\n  > * {\n    transform: rotate(90deg);\n  }\n"])),(function(e){return"repeat(".concat(e.vert," ,50px)")})),Xe=Q.a.div(v||(v=Object(V.a)(["\n  display: ",";\n  flex-direction: column;\n  position: absolute;\n  width: 100px;\n  height: 100px;\n  background-color: #ffffff;\n  box-shadow: 0 0 10px rgb(0 0 0 / 50%);\n  justify-content: start;\n  padding: 21px 0 0 12px;\n  box-sizing: border-box;\n  left: ",";\n  top: ",";\n"])),(function(e){return"visible"===e.type?"block":"none"}),(function(e){var t,r;return(null===(t=e.coord)||void 0===t?void 0:t.x)?"".concat((null===(r=e.coord)||void 0===r?void 0:r.x)+50,"px"):"0px"}),(function(e){var t;return"".concat(null===(t=e.coord)||void 0===t?void 0:t.y,"px")})),Ge=Q.a.button(h||(h=Object(V.a)(["\n  height: 30px;\n  width: 70px;\n"]))),Je=function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return Object(U.a)({},e)})),r=Object(H.useState)({type:"hidden"}),n=Object(ee.a)(r,2),a=n[0],i=n[1],c=(t.gameField,t.playerList,t.enemyList,t.numberOfPlayer),o=de+1,l=document.getElementById("player".concat(c)),d={x:null===l||void 0===l?void 0:l.getBoundingClientRect().x,y:null===l||void 0===l?void 0:l.getBoundingClientRect().y};return Object(H.useEffect)((function(){switch(a.type){case"visible":var e=document.querySelector("body"),r=function r(n){n.target===document.getElementById("player".concat(t.numberOfPlayer))&&n.stopPropagation(),i((function(e){return Object(U.a)(Object(U.a)({},e),{},{type:"hidden"})})),null===e||void 0===e||e.removeEventListener("click",r,{capture:!0})};return null===e||void 0===e||e.addEventListener("click",r,{capture:!0}),function(){null===e||void 0===e||e.removeEventListener("click",r,{capture:!0})}}}),[a.type]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(He,{vert:o,type:a.type,children:De(t,(function(e){i({type:"visible",playerNumber:e,coord:d})}))}),Object(W.jsxs)(Xe,{type:a.type,id:"contextMenu",className:"contextMenu",coord:a.coord,children:[Object(W.jsx)(Ge,{className:"contextMenu",onClick:function(){e({type:"req-shareCard",payload:a.playerNumber})},children:"\u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c"}),Object(W.jsx)(Ge,{onClick:function(){e({type:"req-healPlayer",payload:a.playerNumber})},children:"\u043b\u0435\u0447\u0438\u0442\u044c"})]})]})},Ue=r(8),Ve=Q.a.div(g||(g=Object(V.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ke=Q.a.div(y||(y=Object(V.a)(["\n  width: 5px;\n  height: 5px;\n  border-radius: 50%;\n  border: 1px solid #f09292;\n  margin: 1px;\n  background-color: ",";\n"])),(function(e){return e.isFilled?"#f09292":"none"})),Qe=function(e){var t=Object(K.c)((function(e){return Object(U.a)({},e)})).playerList;return Object(W.jsx)(Ve,{children:We(t,e.index).map((function(e,t){return Object(W.jsx)(Ke,{isFilled:e},t)}))})},We=function(e,t){var r=Ye(e,t);return new Array(7).fill(0).reduce((function(e,t,n){return[].concat(Object(Ue.a)(e),n<r?[!0]:[!1])}),[])},Ye=function(e,t){return e[t].health},Ze=Q.a.div(x||(x=Object(V.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-content: flex-start;\n"]))),$e=Q.a.div(w||(w=Object(V.a)(["\n  display: flex;\n\n  & > * {\n    margin: 2px;\n    position: relative;\n    /*  box-sizing: border-box; */\n  }\n\n  outline: ",";\n"])),(function(e){if(!0===e.highlighting)return"1px solid red "})),et=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.playerList,a=(r.gameState,n[e.index].inventory);return Object(W.jsx)(Ze,{children:a.map((function(e,r){return Object(W.jsx)($e,{highlighting:null===e||void 0===e?void 0:e.isSelected,onClick:function(){t({type:"cardChoosed",payload:r})},children:tt(e)},r)}))})},tt=function(e){switch(null===e||void 0===e?void 0:e.name){case"health":return Object(W.jsx)(fe,{});case"boards":return Object(W.jsx)(Pe,{});default:return null}},rt=Q.a.div(L||(L=Object(V.a)(["\n  width: 250px;\n  height: 200px;\n  border: 1px solid lightgray;\n  padding: 10px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n"]))),nt=Q.a.div(C||(C=Object(V.a)(["\n  width: 50px;\n  height: 70px;\n  border: 1px solid lightgray;\n  font-size: 14px;\n  text-align: center;\n"]))),at=Q.a.div(S||(S=Object(V.a)(["\n  display: flex;\n  border: 1px solid lightgray;\n\n  padding: 3px;\n  margin-bottom: 15px;\n  font-size: 14px;\n  width: 150px;\n"]))),it=Object(Q.a)(at)(E||(E=Object(V.a)(["\n  height: 20px;\n"]))),ct=Object(Q.a)(at)(k||(k=Object(V.a)(["\n  height: 100px;\n"]))),ot=Q.a.div(P||(P=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),lt=function(){var e=Object(K.c)((function(e){return Object(U.a)({},e)})).numberOfPlayer;return Object(W.jsxs)(rt,{children:[Object(W.jsx)(ot,{children:Object(W.jsxs)(nt,{children:["\u0438\u0433\u0440\u043e\u043a ","".concat(e+1)]})}),Object(W.jsxs)(ot,{children:[Object(W.jsxs)(it,{children:["\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435:  ",Object(W.jsx)(Qe,{index:e})]}),Object(W.jsxs)(ct,{children:["\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b:  ",Object(W.jsx)(et,{index:e})]})]})]})},dt=Q.a.div(I||(I=Object(V.a)(["\n  width: 200px;\n  min-height: 18px;\n  width: 250px;\n  height: 60px;\n  border: 1px solid lightgray;\n  background-color: #fff2d9;\n  text-align: center;\n  font-size: 20px;\n  color: #5f5757;\n  padding-top: 15px;\n  box-sizing: border-box;\n"]))),ut=function(){var e=Object(K.c)((function(e){return Object(U.a)({},e)})),t=e.dice,r=(e.playerList,e.gameState),n=e.doEffect,a=e.gameResult;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(dt,{children:st(r,n,t,a)}),Object(W.jsx)(lt,{})]})},st=function(e,t,r,n){switch(e.type){case"gameStarted.trownDice":return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a";case"gameStarted.playerMove":return"\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0445\u043e\u0434";case"gameStarted.takeCard":return"\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"gameStarted.applyCard":return"\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"gameStarted.interactEnemyCard":switch(null===t||void 0===t?void 0:t.type){case"!openEnemyCard":return"\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"!throwBattleDice":return"p\u0435\u0436\u0438\u043c \u0431\u043e\u044f: \u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a";case"!getBattleResult":switch(r){case 1:case 2:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(r,": \u0438\u0433\u0440\u043e\u043a \u0441\u043f\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u0431\u0435\u0433\u0441\u0442\u0432\u043e\u043c ");case 3:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(r,": \u0438\u0433\u0440\u043e\u043a \u0442\u0435\u0440\u044f\u0435\u0442 1 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435");case 4:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(r,": \u0432\u0440\u0430\u0433 \u043f\u043e\u0431\u0435\u0436\u0434\u0435\u043d");default:return" "}default:return" "}case"endGame":return n;default:return" "}},bt=Q.a.div(q||(q=Object(V.a)(["\n  width: 130px;\n  height: 100px;\n  /*   border: 1px solid lightgray; */\n  display: grid;\n\n  grid-template-rows: 20% auto auto;\n  grid-template-columns: ",";\n  pointer-events: none;\n"])),(function(e){return"repeat(".concat(e.amount," ,25px)")})),ft=Q.a.div(F||(F=Object(V.a)(["\n  font-size: 12px;\n  text-align: center;\n  grid-row-start: 1;\n  grid-row-end: 2;\n"]))),pt=Q.a.div(M||(M=Object(V.a)(["\n  grid-row-start: 2;\n  grid-row-end: 3;\n  & > * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-direction: column;\n    width: 100%;\n  }\n"]))),mt=Q.a.div(N||(N=Object(V.a)(["\n  grid-row-start: 3;\n  grid-row-end: 4;\n  & * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-direction: column;\n    box-sizing: border-box;\n    outline: none;\n    /*  & > * {\n      box-sizing: border-box;\n    } */\n  }\n"]))),Ot=function(){return Object(W.jsx)(bt,{amount:2,children:new Array(2).fill(0).map((function(e,t){return Object(W.jsxs)(X.a.Fragment,{children:[Object(W.jsx)(ft,{children:"".concat(t+1)}),Object(W.jsx)(pt,{children:Object(W.jsx)(Qe,{index:t})}),Object(W.jsx)(mt,{children:Object(W.jsx)(et,{index:t})})]},t)}))})},jt=Q.a.div(T||(T=Object(V.a)(["\n  margin: 100px;\n"]))),vt=function(){var e=Object(K.c)((function(e){return e.gameResult}));return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(jt,{children:["\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430. ",e]})})},ht=Q.a.button(z||(z=Object(V.a)(["\n  height: 22px;\n  margin: 140px;\n"]))),gt=function(){var e=Object(K.b)();return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(ht,{onClick:function(){e({type:"clickedStartButton"})},children:[" ","\u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"]})})},yt=r(6),xt=function(e){var t={name:"commonCell",cardItem:[]},r={};return e.forEach((function(e){r[e]=t})),r},wt=function(e){var t,r="".concat(ce,".").concat(oe),n="".concat(le,".").concat(de);return Object(U.a)(Object(U.a)({},e),{},(t={},Object(yt.a)(t,r,{name:"start",cardItem:[]}),Object(yt.a)(t,n,{name:"finish",cardItem:[]}),t))},Lt=function(e){var t=ie.map((function(t){var r=t.coord,n=t.barrierList,a="".concat(r.hor,".").concat(r.vert),i=e[a];return"commonCell"===i.name?[a,Object(U.a)(Object(U.a)({},i),{},{barrierList:n})]:[a,i]})),r=Object.fromEntries(t);return Object(U.a)(Object(U.a)({},e),r)},Ct=[{card:{name:"health",apperance:ue},amount:30},{card:{name:"boards",apperance:ue},amount:30}],St=function(e,t){var r=e.map((function(e){var r=Object(ee.a)(e,2),n=r[0],a=r[1];return[n,Object(U.a)(Object(U.a)({},a),{},{cardItem:[t.card]})]}));return Object.fromEntries(r)},Et=function(e,t,r){var n=Object.entries(e).filter((function(e){var t=Object(ee.a)(e,2)[1];return"commonCell"===t.name&&0===t.cardItem.length})),a=n.length,i=r.amount;return new Array(i).fill(0).reduce((function(e){var t=kt(e,a);return e?[].concat(Object(Ue.a)(e),[t]):[t]}),[]).map((function(e){return n[e]}))},kt=function e(t,r){var n=Math.floor(Math.random()*r);return t&&t.includes(n)?e(t,r):n},Pt=function(){var e=It();return{order:e,values:function(e){var t=Ct.reduce((function(t,r){var n=Object(U.a)(Object(U.a)({},e),t),a=Et(n,t,r),i=St(a,r);return Object(U.a)(Object(U.a)({},t),i)}),{});return Object(U.a)(Object(U.a)({},e),t)}(function(e){var t=xt(e),r=Lt(t);return wt(r)}(e))}},It=function(){for(var e=le,t=de,r=[],n=0;n<=e;n++)for(var a=0;a<=t;a++){var i="".concat(n,".").concat(a);r.push(i)}return r},qt=function(){var e="".concat(ce,".").concat(oe),t=new Array(2).fill(0).map((function(t,r){return[r,{name:"player",health:3,orderNumber:r,coord:e,inventory:[]}]}));return Object.fromEntries(t)},Ft=function(e){var t=Mt(e),r=Nt(t);return Tt(r)},Mt=function(e){return Object.entries(e.values).filter((function(e){var t=Object(ee.a)(e,2)[1];return"commonCell"===t.name&&0===t.cardItem.length}))},Nt=function(e){var t=e.length;return new Array(20).fill(0).reduce((function(e){var r=zt(e,t);return e?[].concat(Object(Ue.a)(e),[r]):[r]}),[]).map((function(t){return Object(ee.a)(e[t],1)[0]}))},Tt=function(e){var t=e.map((function(e){var t={name:"enemy",power:1,coord:e,apperance:ue};return[t.coord,t]}));return Object.fromEntries(t)},zt=function e(t,r){var n=Math.floor(Math.random()*r);return t&&t.includes(n)?e(t,r):n},_t=function(){var e=Pt();return{gameState:{type:"waitingStart"},dice:0,gameResult:"",playerList:qt(),enemyList:Ft(e),gameField:e,doEffect:null,numberOfPlayer:0}}(),Rt=function(e,t){switch(e.type){case"clickedStartButton":return Object(U.a)(Object(U.a)({},t),{},{gameState:{type:"gameStarted.trownDice"}});default:return t}},At=function(e,t){return Object.entries(e).some((function(e){return Object(ee.a)(e,2)[1].coord===t}))},Bt=function(e,t){var r=e.numberOfPlayer,n=Dt(e,t),a=!!n[r].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),i=Object(U.a)(Object(U.a)({},e),{},{playerList:n,gameState:{type:"gameStarted.applyCard"}}),c=Object(U.a)(Object(U.a)({},e),{},{playerList:n,gameState:{type:"gameStarted.playerMove"}});switch(a){case!0:return i;case!1:return c}},Dt=function(e,t){var r=e.playerList,n=e.numberOfPlayer,a=r[n].inventory,i=a[t],c=(Object(U.a)(Object(U.a)({},i),{},{isSelected:!(null===i||void 0===i?void 0:i.isSelected)}),a.map((function(e,r){return r===t?Object(U.a)(Object(U.a)({},e),{},{isSelected:!(null===i||void 0===i?void 0:i.isSelected)}):Object(U.a)(Object(U.a)({},e),{},{isSelected:!1})})));return Object(U.a)(Object(U.a)({},r),{},Object(yt.a)({},n,Object(U.a)(Object(U.a)({},r[n]),{},{inventory:c})))},Ht=function(e,t){switch(e.type){case"req-checkAvailableNeighboringCell":return Gt(t);case"playerMoved":var r=e.payload;return Xt(t,r);case"req-cleanAvailableCells":return Jt(t);case"req-getPlayerMoveResult":return function(e){var t=e.gameField,r=e.playerList,n=e.numberOfPlayer,a=e.dice,i=r[n].coord,c=t.values[i],o=1===a,l="finish"===(null===c||void 0===c?void 0:c.name),d="commonCell"===(null===c||void 0===c?void 0:c.name)&&c.cardItem.length>0,u=!("commonCell"!==(null===c||void 0===c?void 0:c.name)||!e.enemyList[i]);switch(!0){case l:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameResult:"\u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438"});case d:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.takeCard"},doEffect:{type:"!openCard"}});case u:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.interactEnemyCard"},doEffect:{type:"!checkApperanceEnemyCard"}});case o:return Object(U.a)(Object(U.a)({},e),{},{dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"}});default:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}})}}(t);case"cardChoosed":var n=e.payload;return Bt(t,n);default:return t}},Xt=function(e,t){var r,n=e.playerList,a=e.numberOfPlayer,i=(e.gameField,n[a].coord),c=pe(i,t);switch(null===(r=e.availableCellsCoords)||void 0===r?void 0:r.includes(c)){case!0:var o=function(e,t){var r=e.playerList,n=e.numberOfPlayer;return Object(U.a)(Object(U.a)({},r),{},Object(yt.a)({},n,Object(U.a)(Object(U.a)({},r[n]),{},{coord:t})))}(e,c);return Object(U.a)(Object(U.a)({},e),{},{playerList:o,doEffect:{type:"!cleanMarkedCell"}});case!1:default:return e}},Gt=function(e){var t=e.playerList,r=e.numberOfPlayer,n=e.gameField,a=t[r].coord,i=me(a,n).filter((function(t){var r=t.direction,n=t.coord;return function(e,t,r){var n=e.playerList,a=e.dice,i=Oe(e,t,r),c=1===a,o=At(n,t);switch(!0){case i:case c&&o:return!1;default:return!0}}(e,n,r)})).map((function(e){e.direction;return e.coord}));return Object(U.a)(Object(U.a)({},e),{},{availableCellsCoords:i})},Jt=function(e){e.playerList,e.numberOfPlayer,e.gameField;return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!getPlayerMoveResult"},availableCellsCoords:null})},Ut=function(e,t){switch(e.type){case"req-openCard":return Vt(t);case"req-takeCard":return Kt(t);case"req-deleteCard":return Qt(t);default:return t}},Vt=function(e){var t=e.gameField,r=e.numberOfPlayer,n=e.playerList[r].coord,a=function(e){if("commonCell"===e.name){var t=e.cardItem.map((function(e){return e?Object(U.a)(Object(U.a)({},e),{},{apperance:"open"}):null}));return Object(U.a)(Object(U.a)({},e),{},{cardItem:t})}return e}(t.values[n]),i=Object(U.a)(Object(U.a)({},t),{},{values:Object(U.a)(Object(U.a)({},t.values),{},Object(yt.a)({},n,a))});return Object(U.a)(Object(U.a)({},e),{},{gameField:i,doEffect:{type:"!takeCard"}})},Kt=function(e){var t=e.gameField,r=e.numberOfPlayer,n=e.playerList,a=n[r],i=t.values[a.coord].cardItem,c=Object(U.a)(Object(U.a)({},a),{},{inventory:[].concat(Object(Ue.a)(a.inventory),Object(Ue.a)(i))}),o=Object(U.a)(Object(U.a)({},n),{},Object(yt.a)({},r,c));return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!deleteCard"},playerList:o})},Qt=function(e){var t=e.gameField,r=e.numberOfPlayer,n=e.playerList[r].coord,a=function(e){return"commonCell"===e.name?Object(U.a)(Object(U.a)({},e),{},{cardItem:[]}):e}(t.values[n]),i=Object(U.a)(Object(U.a)({},t),{},{values:Object(U.a)(Object(U.a)({},t.values),{},Object(yt.a)({},n,a))});return Object(U.a)(Object(U.a)({},e),{},{gameField:i,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"},dice:0})},Wt=function(e,t){switch(e.type){case"diceThrown":return Object(U.a)(Object(U.a)({},t),{},{dice:e.payload,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}});default:return t}},Yt=function(e){return Object(U.a)(Object(U.a)({},e),{},{dice:1,gameState:Object(U.a)(Object(U.a)({},e),{},{type:"gameStarted.playerMove"}),doEffect:{type:"!checkAvailableNeighboringCell"}})},Zt=function(e){var t=e.playerList,r=e.numberOfPlayer,n=t[r].health-1>0,a=Object(U.a)(Object(U.a)({},t),{},Object(yt.a)({},r,Object(U.a)(Object(U.a)({},t[r]),{},{health:t[r].health-1})));return n?Object(U.a)(Object(U.a)({},e),{},{dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"},playerList:a}):(console.log("\u0438\u0433\u0440\u043e\u043a \u2116".concat(r," \u043f\u043e\u0433\u0438\u0431")),Object(U.a)(Object(U.a)({},e),{},{gameState:{type:"endGame"},gameResult:"\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438",doEffect:null}))},$t=function(e){var t=e.enemyList,r=e.numberOfPlayer,n=e.playerList[r].coord,a=Object(U.a)({},t);return delete a[n],Object(U.a)(Object(U.a)({},e),{},{enemyList:a,dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"}})},er=function(e,t){switch(e.type){case"req-checkEnemyCard":return tr(t);case"req-openEnemyCard":return rr(t);case"diceThrown":var r=e.payload;return nr(t,r);case"req-getBattleResult":return function(e){switch(e.dice){case 1:case 2:return Yt(e);case 3:return Zt(e);case 4:return $t(e);default:return e}}(t);default:return t}},tr=function(e){var t="open"!==e.enemyList[e.playerList[e.numberOfPlayer].coord].apperance;switch(!0){case t:return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!openEnemyCard"}});case!t:return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!throwBattleDice"},dice:0});default:return e}},rr=function(e){var t=function(e,t){var r=e[t],n=Object(U.a)(Object(U.a)({},r),{},{apperance:"open"});return Object(U.a)(Object(U.a)({},e),{},Object(yt.a)({},t,n))}(e.enemyList,e.playerList[e.numberOfPlayer].coord);return Object(U.a)(Object(U.a)({},e),{},{enemyList:t,doEffect:{type:"!throwBattleDice"},dice:0})},nr=function(e,t){return Object(U.a)(Object(U.a)({},e),{},{dice:t,doEffect:{type:"!getBattleResult"}})},ar=function(e,t){var r=t,n=e[r].inventory,a=e[r].inventory.findIndex((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)}));return n.filter((function(e,t){return t!==a}))},ir=function(e,t){return e[t].health+1},cr=function(e,t){var r,n=t.numberOfPlayer,a=t.playerList,i=t.gameState.type.split("."),c=(Object(ee.a)(i,3)[2],null===(r=a[n].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})))||void 0===r?void 0:r.name);switch(e.type){case"req-shareCard":return function(e,t){var r,n=e.playerList,a=e.numberOfPlayer,i=n[a].inventory,c=n[t].inventory,o=n[a].inventory.findIndex((function(e){return null===e||void 0===e?void 0:e.isSelected})),l=Object(Ue.a)(i)[o],d=Object(U.a)(Object(U.a)({},l),{},{isSelected:!1}),u=i.filter((function(e,t){return t!==o})),s=[].concat(Object(Ue.a)(c),[d]),b=Object(U.a)(Object(U.a)({},n),{},(r={},Object(yt.a)(r,a,Object(U.a)(Object(U.a)({},n[a]),{},{inventory:u})),Object(yt.a)(r,t,Object(U.a)(Object(U.a)({},n[t]),{},{inventory:s})),r));return Object(U.a)(Object(U.a)({},e),{},{playerList:b,gameState:{type:"gameStarted.playerMove"}})}(t,e.payload);case"cardChoosed":var o=e.payload;return Bt(t,o);default:switch(c){case"health":switch(e.type){case"req-healPlayer":var l=e.payload;switch(l===n){case!0:return function(e){var t=e.playerList,r=e.numberOfPlayer,n=r,a=ir(t,n),i=ar(t,r),c=Object(U.a)(Object(U.a)({},t),{},Object(yt.a)({},n,Object(U.a)(Object(U.a)({},t[n]),{},{inventory:i,health:a})));return Object(U.a)(Object(U.a)({},e),{},{playerList:c,gameState:{type:"gameStarted.playerMove"}})}(t);case!1:return function(e,t){var r,n=e.playerList,a=e.numberOfPlayer,i=a,c=ar(n,a),o=ir(n,t),l=Object(U.a)(Object(U.a)({},n),{},(r={},Object(yt.a)(r,t,Object(U.a)(Object(U.a)({},n[t]),{},{health:o})),Object(yt.a)(r,i,Object(U.a)(Object(U.a)({},n[i]),{},{inventory:c})),r));return Object(U.a)(Object(U.a)({},e),{},{playerList:l,gameState:{type:"gameStarted.playerMove"}})}(t,l);default:return t}default:return t}case"boards":switch(e.type){case"req-fillHole":var d=e.payload,u=d.coord,s=d.direction;return console.log("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043c",u,s),function(e,t,r){var n=e.gameField,a=e.playerList,i=e.numberOfPlayer,c=i,o=ar(a,i),l=n.values[t];if("commonCell"===l.name){var d,u=null===(d=l.barrierList)||void 0===d?void 0:d.map((function(e){return e.direction===r?Object(U.a)(Object(U.a)({},e),{},{isOpen:!1}):e})),s=Object(U.a)(Object(U.a)({},n),{},{values:Object(U.a)(Object(U.a)({},n.values),{},Object(yt.a)({},t,Object(U.a)(Object(U.a)({},n.values[t]),{},{barrierList:u})))}),b=Object(U.a)(Object(U.a)({},a),{},Object(yt.a)({},c,Object(U.a)(Object(U.a)({},a[c]),{},{inventory:o})));return Object(U.a)(Object(U.a)({},e),{},{gameField:s,playerList:b,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}})}return e}(t,u,s);default:return t}default:return t}}},or=function(e,t){var r=t.numberOfPlayer,n=r+1>1?0:r+1;switch(e.type){case"req-getNextPlayer":return Object(U.a)(Object(U.a)({},t),{},{numberOfPlayer:n,gameState:{type:"gameStarted.trownDice"}});default:return t}},lr=function(e,t){switch(e.type){case"req-getEndScreen":return Object(U.a)(Object(U.a)({},t),{},{gameState:{type:"getEndScreen"}});default:return t}},dr=r(13),ur=Object(dr.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0,r=e.gameState.type.split("."),n=Object(ee.a)(r,2),a=n[0],i=n[1];switch(a){case"waitingStart":return Rt(t,e);case"gameStarted":switch(i){case"trownDice":return Wt(t,e);case"playerMove":return Ht(t,e);case"takeCard":return Ut(t,e);case"applyCard":return cr(t,e);case"interactEnemyCard":return er(t,e);case"getPlayersOrder":return or(t,e);default:return e}case"endGame":return lr(t,e);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var sr=Q.a.div(_||(_=Object(V.a)(["\n  margin: 0 auto;\n"]))),br=Q.a.div(R||(R=Object(V.a)(["\n  width: 900px;\n  margin: 40px auto;\n  display: flex;\n  justify-content: center;\n  height: 100vh;\n"]))),fr=Q.a.div(A||(A=Object(V.a)(["\n  width: 300px;\n  height: 400px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 0;\n  align-items: start;\n  margin: 0 30px;\n"]))),pr=Q.a.div(B||(B=Object(V.a)(["\n  display: flex;\n"]))),mr=Q.a.div(D||(D=Object(V.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"])));function Or(){var e=Object(K.c)((function(e){return Object(U.a)({},e)})).gameState;!function(){var e=Object(K.c)((function(e){return[e.doEffect]})),t=Object(ee.a)(e,1)[0],r=Object(K.b)();Object(H.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!openCard":var e=setTimeout((function(){return r({type:"req-openCard"})}),1e3);return function(){clearTimeout(e)};case"!takeCard":var n=setTimeout((function(){return r({type:"req-takeCard"})}),500);return function(){clearTimeout(n)};case"!changePlayerHealth":var a=setTimeout((function(){return r({type:"req-changePlayerHealth"})}),500);return function(){clearTimeout(a)};case"!deleteCard":var i=setTimeout((function(){return r({type:"req-deleteCard"})}),500);return function(){clearTimeout(i)};case"!getNextPlayer":r({type:"req-getNextPlayer"});break;case"!checkApperanceEnemyCard":r({type:"req-checkEnemyCard"});break;case"!openEnemyCard":var c=setTimeout((function(){return r({type:"req-openEnemyCard"})}),1e3);return function(){clearTimeout(c)};case"!getBattleResult":var o=setTimeout((function(){return r({type:"req-getBattleResult"})}),1e3);return function(){clearTimeout(o)}}}),[t])}(),function(){var e=Object(K.c)((function(e){return[e.doEffect]})),t=Object(ee.a)(e,1)[0],r=Object(K.b)();Object(H.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!checkAvailableNeighboringCell":r({type:"req-checkAvailableNeighboringCell"});break;case"!cleanMarkedCell":var e=setTimeout((function(){return r({type:"req-cleanAvailableCells"})}),0);return function(){clearTimeout(e)};case"!getPlayerMoveResult":r({type:"req-getPlayerMoveResult"})}}),[t])}(),function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return e.gameState}));Object(H.useEffect)((function(){switch(t.type){case"endGame":var r=setTimeout((function(){return e({type:"req-getEndScreen"})}),1e3);return function(){return clearTimeout(r)}}}),[t.type,e])}();return Object(W.jsx)(br,{children:function(){switch(e.type){case"waitingStart":return Object(W.jsx)(gt,{});case"getEndScreen":return Object(W.jsx)(vt,{});default:return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(pr,{children:Object(W.jsx)(Ot,{})}),Object(W.jsx)(sr,{children:Object(W.jsx)(Je,{})}),Object(W.jsxs)(fr,{children:[Object(W.jsx)(ut,{}),Object(W.jsxs)(mr,{children:[Object(W.jsx)(ae,{}),Object(W.jsx)($,{})]})]})]})}}()})}var jr=function(){return Object(W.jsx)(K.a,{store:ur,children:Object(W.jsx)(Or,{})})},vr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,35)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};J.a.render(Object(W.jsx)(X.a.StrictMode,{children:Object(W.jsx)(jr,{})}),document.getElementById("root")),vr()}},[[34,1,2]]]);
//# sourceMappingURL=main.0f97784e.chunk.js.map