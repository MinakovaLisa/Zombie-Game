(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{34:function(e,t,r){"use strict";r.r(t);var n,a,i,c,o,l,d,u,s,b,p,f,m,O,j,v,h,y,g,x,w,L,C,S,E,k,P,I,q,F,M,N,T,z,B,_,A,R,D,W,H=r(2),X=r.n(H),G=r(12),J=r.n(G),U=r(0),V=r(3),K=r(5),Q=r(4),Y=r(1),Z=Q.a.div(n||(n=Object(V.a)(["\n  text-align: center;\n  vertical-align: middle;\n  border: 1px solid lightgrey;\n  cursor: pointer;\n  &:hover {\n    color: pink;\n  }\n\n  &:active {\n    color: red;\n  }\n\n  transform: ",";\n\n  grid-area: ",";\n"])),(function(e){switch(e.direction){case"top":return"rotate(-90deg)";case"bottom":return"rotate(90deg)";case"left":return"rotate(-180deg)"}}),(function(e){switch(e.direction){case"top":return"arrow_top;";case"bottom":return"arrow_bottom";case"left":return"arrow_left";case"right":return"arrow_right"}})),$=Q.a.div(a||(a=Object(V.a)(['\n  display: grid;\n  grid-template-areas:\n    ". arrow_top ."\n    "arrow_left . arrow_right "\n    ". arrow_bottom . ";\n  width: 100px;\n  height: 100px;\n  & > * {\n    padding: 6px;\n    box-sizing: border-box;\n\n  }\n']))),ee=function(){var e=Object(K.b)(),t=function(t){return Object(Y.jsx)(Z,{direction:t,onClick:function(){e({type:"playerMoved",payload:t})},children:">"})};return Object(Y.jsxs)($,{children:[t("top"),t("right"),t("left"),t("bottom")]})},te=r(7),re=Q.a.div(i||(i=Object(V.a)(["\n  border: 1px solid lightgray;\n  width: 100px;\n  height: 100px;\n  display: grid;\n"]))),ne=Q.a.button(c||(c=Object(V.a)(["\n  margin: 0 auto;\n  cursor: pointer;\n"]))),ae=Q.a.div(o||(o=Object(V.a)(["\n  height: 30px;\n  margin-top: 20px;\n  text-align: center;\n"]))),ie=function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return[e.dice]})),r=Object(te.a)(t,1)[0];return Object(Y.jsxs)(re,{children:[Object(Y.jsx)(ae,{children:r}),Object(Y.jsx)(ne,{onClick:function(){e({type:"diceThrown",payload:Math.floor(4*Math.random()+1)})},children:"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a"})]})},ce=[{coord:{hor:2,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:5},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:8},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:2,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:3,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:10},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:8,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:10},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:3,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:2},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:2},barrierList:[{name:"window",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0},{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:8,vert:2},barrierList:[{name:"window",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:2},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:10,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:3,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:4,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:4,vert:8},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:4,vert:7},barrierList:[{name:"door",direction:"left",isOpen:!0},{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:5,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:6,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:7},barrierList:[{name:"wall",direction:"left",isOpen:!0},{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:8},barrierList:[{name:"door",direction:"left",isOpen:!0}]},{coord:{hor:8,vert:7},barrierList:[{name:"wall",direction:"bottom",isOpen:!0}]},{coord:{hor:9,vert:7},barrierList:[{name:"door",direction:"bottom",isOpen:!0}]},{coord:{hor:7,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:5},barrierList:[{name:"door",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:7,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:9},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:8},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:7},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:6},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:5},barrierList:[{name:"window",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:4},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:3},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:2},barrierList:[{name:"wall",direction:"left",isOpen:!0}]},{coord:{hor:11,vert:10},barrierList:[{name:null,direction:"left",isOpen:!0}]}],oe=0,le=0,de=11,ue=11,se="open",be=["top","right","bottom","left"],pe=Q.a.div(l||(l=Object(V.a)(["\n  position: absolute;\n  border: 5px solid;\n  width: 15px;\n  height: 15px;\n  margin: 12px;\n\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"gray":"green"}),(function(e){return"closed"===e.apperance?"gray":"green"})),fe=function(e){return Object(Y.jsx)(pe,Object(U.a)({},e))},me=function(e,t){var r=e.split("."),n=Object(te.a)(r,2),a=n[0],i=n[1],c=parseInt(i)+1,o=parseInt(a)+1,l=parseInt(i)-1,d=parseInt(a)-1;switch(t){case"top":return"".concat(a,".").concat(c);case"bottom":return"".concat(a,".").concat(l);case"left":return"".concat(d,".").concat(i);case"right":return"".concat(o,".").concat(i);default:return"".concat(a,".").concat(i)}},Oe=function(e,t){return be.map((function(t){return{direction:t,coord:me(e,t)}})).filter((function(e){e.direction;var r=e.coord;return t.values[r]}))},je=function(e,t,r){var n=e.playerList,a=e.numberOfPlayer,i=e.gameField,c=n[a].coord,o=i.values[c],l=i.values[t],d=he(r),u=ve(o,r),s=ve(l,d);return!(!u&&!s)},ve=function(e,t){if("commonCell"===e.name){if("left"===t||"bottom"===t){var r,n,a=!!(null===(r=e.barrierList)||void 0===r?void 0:r.find((function(e){return"wall"===e.name&&e.direction===t}))),i=!!(null===(n=e.barrierList)||void 0===n?void 0:n.find((function(e){return!1===e.isOpen&&e.direction===t})));return a||i}return!1}},he=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},ye=Q.a.div(d||(d=Object(V.a)(["\n  background-color: #9f3f3f;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  margin: 0px;\n  z-index: 3;\n  text-align: center;\n  padding: 4px;\n  box-sizing: border-box;\n  cursor: default;\n\n  background-color: ",';\n\n  &:before {\n    content: "";\n    position: absolute;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    border: ',";\n    pointer-events: none;\n    opacity: 0.5;\n    padding: 4px;\n\n    left: 0px;\n    top: 0px;\n  }\n"])),(function(e){if(e.isCurrent)return"red"}),(function(e){if(e.needHighlightning)return"3px solid #34b834;"})),ge=Q.a.div(u||(u=Object(V.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  z-index: 3;\n  font-size: 12px;\n  font-weight: bold;\n  color: white;\n  padding: 3px;\n"]))),xe=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.playerList,a=r.numberOfPlayer,i=e.playerListOnCell,c=e.getContextMenu,o=we(r),l=n[a].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),d=(null===l||void 0===l?void 0:l.name)||null;return Object(Y.jsx)(ge,{children:i.map((function(e,r){var n=o.includes(e.coord);return Object(Y.jsx)(ye,{id:"player".concat(e.orderNumber),isCurrent:a==e.orderNumber,needHighlightning:Ce(n,d),onClick:function(){Le(c,e,a,n,d,t)},children:e.orderNumber+1},r)}))})},we=function(e){var t=e.gameState,r=e.playerList,n=e.numberOfPlayer,a=e.gameField,i=r[n].coord,c=Oe(i,a).filter((function(t){var r=t.direction,n=t.coord;return function(e,t,r){var n=e.gameField;switch(e.playerList,e.dice,!n.values[t]){case!0:return!1;case!1:switch(!0){case je(e,t,r):return!1;default:return!0}default:return!0}}(e,n,r)})),o=r[n].coord,l=c.map((function(e){e.direction;return e.coord})).concat(o);switch(t.type){case"gameStarted.applyCard":return l;default:return[]}},Le=function(e,t,r,n,a,i){var c=t.orderNumber==r;switch(n){case!0:switch(a){case"health":switch(c){case!0:i({type:"req-healPlayer",payload:t.orderNumber});break;case!1:e(t.orderNumber)}break;case"boards":switch(c){case!0:break;case!1:i({type:"req-shareCard",payload:t.orderNumber})}}break;case!1:console.log("\u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0438\u0433\u0440\u043e\u043a\u0430")}},Ce=function(e,t){switch(e){case!0:switch(t){case"boards":return!1;case"health":return!0;default:return!1}case!1:default:return!1}},Se=Q.a.div(s||(s=Object(V.a)(["\n  position: absolute;\n  border: 5px solid;\n  width: 25px;\n  height: 25px;\n  margin: 12px;\n  box-sizing: border-box;\n  color: #c08f5e;\n  font-size: 50px;\n  text-align: start;\n  vertical-align: bottom;\n  line-height: 0.1;\n  text-transform: unset;\n  font-family: sans-serif;\n  text-indent: -5px;\n\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"lightgray":"navy"}),(function(e){return"closed"===e.apperance?"lightgray":"navy"})),Ee=Q.a.div(b||(b=Object(V.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: absolute;\n  font-size: 10px;\n"]))),ke=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.numberOfPlayer,a=r.playerList,i=e.list;return Object(Y.jsx)(Ee,{children:i.map((function(e,r){return Object(Y.jsx)(Se,Object(U.a)(Object(U.a)({},e),{},{onClick:function(){if(!(a[n].coord===e.coord))return null;t({type:"req-defeatEnemy"})},children:"defeated"===e.apperance?"x":null}),r)}))})},Pe=Q.a.div(p||(p=Object(V.a)(["\n  position: absolute;\n  border: 1px solid;\n  width: 20px;\n  height: 20px;\n  margin: 12px;\n  color: black;\n  font-size: 20px;\n  text-align: center;\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"gray":"white"}),(function(e){return e.apperance,"gray"})),Ie=function(e){return Object(Y.jsx)(Pe,Object(U.a)(Object(U.a)({},e),{},{children:"closed"===e.apperance?null:"X"}))},qe=Q.a.div(f||(f=Object(V.a)(["\n  position: absolute;\n  border: 1px solid;\n  width: 20px;\n  height: 20px;\n  margin: 12px;\n  color: red;\n  font-size: 20px;\n  text-align: center;\n  background-color: ",";\n\n  border-color: ",";\n"])),(function(e){return"closed"===e.apperance?"gray":"white"}),(function(e){return e.apperance,"gray"})),Fe=function(e){return Object(Y.jsx)(qe,Object(U.a)(Object(U.a)({},e),{},{children:"closed"===e.apperance?null:"O"}))},Me=function(e){var t=e.cardItem.find((function(e){return"health"===(null===e||void 0===e?void 0:e.name)})),r=e.cardItem.find((function(e){return"boards"===(null===e||void 0===e?void 0:e.name)})),n=e.cardItem.find((function(e){return"weapon"===(null===e||void 0===e?void 0:e.name)}));return Object(Y.jsxs)(Y.Fragment,{children:[t?Object(Y.jsx)(fe,{apperance:t.apperance}):null,r?Object(Y.jsx)(Ie,{apperance:r.apperance}):null,n?Object(Y.jsx)(Fe,{apperance:n.apperance}):null]})},Ne=function(e,t,r,n){var a=[];for(var i in t){t[i].coord===e&&a.push(t[i])}return a.length>0?Object(Y.jsx)(xe,{playerListOnCell:a,getContextMenu:n}):null},Te=function(e,t){var r=[];for(var n in t){t[n].coord===e&&r.push(t[n])}return r.length>0?Object(Y.jsx)(ke,{list:r}):null},ze=Q.a.div(m||(m=Object(V.a)(["\n  cursor: ",';\n  &:before {\n    content: "";\n    position: absolute;\n    width: 50px;\n    height: 50px;\n    bottom: 0px;\n    z-index: 5;\n    height: ',";\n\n    width: ",";\n\n    background-color: ",';\n  }\n  &:after {\n    content: "";\n    z-index: 5;\n    position: absolute;\n    width: 50px;\n    height: 50px;\n\n    top: ',";\n    height: ",";\n    width: ",";\n    bottom: ",";\n    left: ",";\n\n    background-color: ",";\n  }\n"])),(function(e){var t;switch(null===(t=e.barrierItem)||void 0===t?void 0:t.name){case"wall":return"default";case"door":case"window":return"pointer";default:return"default"}}),(function(e){var t,r;if("bottom"!==(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return e.barrierItem&&"left"===e.barrierItem.direction&&null!==e.barrierItem.name?"50px":e.barrierItem&&null===e.barrierItem.name?"5px":"0px";if(!1===(null===(r=e.barrierItem)||void 0===r?void 0:r.isOpen))return"10px";switch(e.barrierItem.name){case"wall":return"5px";case"door":case"window":return"3px";default:return"0px"}}),(function(e){var t,r;if("left"!==(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"none";if(!1===(null===(r=e.barrierItem)||void 0===r?void 0:r.isOpen))return"10px";switch(e.barrierItem.name){case"wall":return"5px ";case"door":case"window":return"3px";default:return"5px"}}),(function(e){var t,r;if(!(null===(t=e.barrierItem)||void 0===t?void 0:t.isOpen))return!1===(null===(r=e.barrierItem)||void 0===r?void 0:r.isOpen)?"#66615d;":"none";var n,a=null===(n=e.highlightningList)||void 0===n?void 0:n.find((function(e){return"bottom"===e||"left"}));switch(e.barrierItem.name){case"wall":return"#f09308;";case"door":return a?"#78ff2d":" #584324;";case"window":return a?"#78ff2d":" #a3cdd8;";default:return"#f09308"}}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"0"}),(function(e){var t;if("bottom"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction)&&e.barrierItem)return"20px"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"20px"}),(function(e){var t;if("bottom"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"-10px"}),(function(e){var t;if("left"===(null===(t=e.barrierItem)||void 0===t?void 0:t.direction))return"-10px"}),(function(e){var t,r;if(null===(t=e.barrierItem)||void 0===t?void 0:t.isOpen)return(null===(r=e.highlightningList)||void 0===r?void 0:r.find((function(e){return"bottom"===e||"left"})))?"#79fe2f3d":"none"})),Be=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.gameField,a=r.playerList,i=r.numberOfPlayer,c=r.gameState,o=e.orderIndex,l=n.values[o],d=a[i].coord,u=Oe(d,n),s=u.map((function(e){e.direction;return e.coord})).concat(d).find((function(e){return o===e})),b=Ae(u,n,d,c,a,i);switch(l.name){case"commonCell":var p,f=null===(p=l.barrierList)||void 0===p?void 0:p.map((function(e){return Object(Y.jsx)(ze,{barrierItem:e,highlightningList:s?_e(b,o,e.direction):null,onClick:function(){if(!!!b.find((function(t){return(null===t||void 0===t?void 0:t.coord)===o&&(null===t||void 0===t?void 0:t.direction)===e.direction&&!0===e.isOpen})))return null;t({type:"req-fillHole",payload:{coord:o,direction:e.direction}})},children:" "},e.direction)}));return Object(Y.jsx)(Y.Fragment,{children:f});default:return null}},_e=function(e,t,r){return e.filter((function(e){return(null===e||void 0===e?void 0:e.coord)===t&&(null===e||void 0===e?void 0:e.direction)===r})).map((function(e){if(e){var t=e.direction;e.coord;return t}return null}))},Ae=function(e,t,r,n,a,i){var c=t.values[r],o=e.map((function(e){var n=e.direction,a=e.coord,i=Re(c,n),o=t.values[a],l=De(n),d=Re(o,l);return i?{direction:n,coord:r}:d?{direction:l,coord:a}:null})).filter((function(e){return null!==e}));switch(n.type){case"gameStarted.applyCard":var l=a[i].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)}));return"boards"===(null===l||void 0===l?void 0:l.name)?o:[];default:return[]}},Re=function(e,t){if("commonCell"===e.name){if("left"===t||"bottom"===t){var r,n,a=!!(null===(r=e.barrierList)||void 0===r?void 0:r.find((function(e){return"window"===e.name}))),i=!!(null===(n=e.barrierList)||void 0===n?void 0:n.find((function(e){return"door"===e.name})));return a||i}return!1}return!1},De=function(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left"}},We=Q.a.div(O||(O=Object(V.a)(["\n  position: relative;\n"]))),He=Q.a.div(j||(j=Object(V.a)(["\n  position: relative;\n  box-sizing: border-box;\n  border: 1px solid lightgray;\n  font-size: 14px;\n  text-align: right;\n  width: 50px;\n  height: 50px;\n  color: lightgrey;\n  background-color: ",";\n"])),(function(e){if(e.hasMarker)return" rgb(241, 224, 224)"})),Xe=function(e,t){var r,n=e.gameField,a=e.playerList,i=e.numberOfPlayer,c=(e.gameState,e.enemyList),o=n.order,l=a[i].coord,d=null===(r=e.availableCellsCoords)||void 0===r?void 0:r.concat(l);return o.map((function(e){var r=n.values[e],i=e.split("."),o=Object(te.a)(i,2),l=o[0],u=o[1],s=null===d||void 0===d?void 0:d.includes(e);return Object(Y.jsxs)(We,{children:[Object(Y.jsxs)(He,{hasMarker:s,children:[Me(r),Ne(e,a,0,t),"commonCell"===r.name?Te(e,c):null,"".concat(l,".").concat(u)]}),"commonCell"===r.name?Object(Y.jsx)(Be,{orderIndex:e}):null]},"".concat(l,".").concat(u))}))},Ge=Q.a.div(v||(v=Object(V.a)(["\n  outline: 2px solid lightgray;\n  margin: 0 auto;\n  width: 100%;\n  transform: rotate(270deg);\n  display: grid;\n  grid-column-start: -1;\n  //\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0438\u0440\u0443\u044e \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435 \u043f\u043e\u043b\u044f\n  grid-template-columns: ",";\n\n  grid-gap: 0px;\n  > * {\n    transform: rotate(90deg);\n  }\n"])),(function(e){return"repeat(".concat(e.vert," ,50px)")})),Je=Q.a.div(h||(h=Object(V.a)(["\n  display: ",";\n\n  flex-direction: column;\n  position: absolute;\n  width: 100px;\n  height: 100px;\n  background-color: #ffffff;\n  box-shadow: 0 0 10px rgb(0 0 0 / 50%);\n  justify-content: start;\n  padding: 21px 0 0 12px;\n  box-sizing: border-box;\n  left: ",";\n  top: ",";\n"])),(function(e){return"visible"===e.type?"block":"none"}),(function(e){var t,r;return(null===(t=e.coord)||void 0===t?void 0:t.x)?"".concat((null===(r=e.coord)||void 0===r?void 0:r.x)+50,"px"):"0px"}),(function(e){var t;return"".concat(null===(t=e.coord)||void 0===t?void 0:t.y,"px")})),Ue=Q.a.button(y||(y=Object(V.a)(["\n  height: 30px;\n  width: 70px;\n"]))),Ve=function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return Object(U.a)({},e)})),r=Object(H.useState)({type:"hidden"}),n=Object(te.a)(r,2),a=n[0],i=n[1],c=(t.gameField,t.playerList,t.enemyList,t.numberOfPlayer),o=ue+1,l=document.getElementById("player".concat(c)),d={x:null===l||void 0===l?void 0:l.getBoundingClientRect().x,y:null===l||void 0===l?void 0:l.getBoundingClientRect().y};return Object(H.useEffect)((function(){switch(a.type){case"visible":var e=document.querySelector("body"),r=function r(n){n.target===document.getElementById("player".concat(t.numberOfPlayer))&&n.stopPropagation(),i((function(e){return Object(U.a)(Object(U.a)({},e),{},{type:"hidden"})})),null===e||void 0===e||e.removeEventListener("click",r,{capture:!0})};return null===e||void 0===e||e.addEventListener("click",r,{capture:!0}),function(){null===e||void 0===e||e.removeEventListener("click",r,{capture:!0})}}}),[a.type]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Ge,{vert:o,type:a.type,children:Xe(t,(function(e){i({type:"visible",playerNumber:e,coord:d})}))}),Object(Y.jsxs)(Je,{type:a.type,id:"contextMenu",className:"contextMenu",coord:a.coord,children:[Object(Y.jsx)(Ue,{className:"contextMenu",onClick:function(){e({type:"req-shareCard",payload:a.playerNumber})},children:"\u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c"}),Object(Y.jsx)(Ue,{onClick:function(){e({type:"req-healPlayer",payload:a.playerNumber})},children:"\u043b\u0435\u0447\u0438\u0442\u044c"})]})]})},Ke=r(8),Qe=Q.a.div(g||(g=Object(V.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ye=Q.a.div(x||(x=Object(V.a)(["\n  width: 5px;\n  height: 5px;\n  border-radius: 50%;\n  border: 1px solid #f09292;\n  margin: 1px;\n  background-color: ",";\n"])),(function(e){return e.isFilled?"#f09292":"none"})),Ze=function(e){var t=Object(K.c)((function(e){return Object(U.a)({},e)})).playerList;return Object(Y.jsx)(Qe,{children:$e(t,e.index).map((function(e,t){return Object(Y.jsx)(Ye,{isFilled:e},t)}))})},$e=function(e,t){var r=et(e,t);return new Array(7).fill(0).reduce((function(e,t,n){return[].concat(Object(Ke.a)(e),n<r?[!0]:[!1])}),[])},et=function(e,t){return e[t].health},tt=Q.a.div(w||(w=Object(V.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-content: flex-start;\n"]))),rt=Q.a.div(L||(L=Object(V.a)(["\n  display: flex;\n  cursor: pointer;\n\n  & > * {\n    margin: 2px;\n    position: relative;\n  }\n\n  outline: ",";\n"])),(function(e){if(!0===e.highlighting)return"1px solid red "})),nt=function(e){var t=Object(K.b)(),r=Object(K.c)((function(e){return Object(U.a)({},e)})),n=r.playerList,a=(r.gameState,n[e.index].inventory);return Object(Y.jsx)(tt,{children:a.map((function(e,r){return Object(Y.jsx)(rt,{highlighting:null===e||void 0===e?void 0:e.isSelected,onClick:function(){t({type:"cardChoosed",payload:{index:r,card:e}})},children:at(e)},r)}))})},at=function(e){switch(null===e||void 0===e?void 0:e.name){case"health":return Object(Y.jsx)(fe,{});case"boards":return Object(Y.jsx)(Ie,{});case"weapon":return Object(Y.jsx)(Fe,{});default:return null}},it=Q.a.div(C||(C=Object(V.a)(["\n  width: 250px;\n  height: 200px;\n  border: 1px solid lightgray;\n  padding: 10px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n"]))),ct=Q.a.div(S||(S=Object(V.a)(["\n  width: 50px;\n  height: 70px;\n  border: 1px solid lightgray;\n  font-size: 14px;\n  text-align: center;\n"]))),ot=Q.a.div(E||(E=Object(V.a)(["\n  display: flex;\n  border: 1px solid lightgray;\n\n  padding: 3px;\n  margin-bottom: 15px;\n  font-size: 14px;\n  width: 150px;\n"]))),lt=Object(Q.a)(ot)(k||(k=Object(V.a)(["\n  height: 20px;\n"]))),dt=Object(Q.a)(ot)(P||(P=Object(V.a)(["\n  height: 100px;\n"]))),ut=Q.a.div(I||(I=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),st=function(){var e=Object(K.c)((function(e){return Object(U.a)({},e)})).numberOfPlayer;return Object(Y.jsxs)(it,{children:[Object(Y.jsx)(ut,{children:Object(Y.jsxs)(ct,{children:["\u0438\u0433\u0440\u043e\u043a ","".concat(e+1)]})}),Object(Y.jsxs)(ut,{children:[Object(Y.jsxs)(lt,{children:["\u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435:  ",Object(Y.jsx)(Ze,{index:e})]}),Object(Y.jsxs)(dt,{children:["\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b:  ",Object(Y.jsx)(nt,{index:e})]})]})]})},bt=Q.a.div(q||(q=Object(V.a)(["\n  width: 200px;\n  min-height: 18px;\n  width: 250px;\n  height: 100px;\n  border: 1px solid lightgray;\n  background-color: #fff2d9;\n  text-align: center;\n  font-size: 20px;\n  color: #5f5757;\n  padding-top: 15px;\n  box-sizing: border-box;\n"]))),pt=function(){var e=Object(H.useState)(""),t=Object(te.a)(e,2),r=t[0],n=t[1],a=Object(K.c)((function(e){return Object(U.a)({},e)})),i=a.dice,c=(a.playerList,a.gameState),o=a.doEffect,l=a.gameResult,d=ft(c,o,i,l);return Object(H.useEffect)((function(){n((function(){return c.type.includes("interactWithEnemy")?"interactWithEnemy"===c.type?d:"".concat("p\u0435\u0436\u0438\u043c \u0431\u043e\u044f",": ").concat(d):d}))}),[c.type,null===o||void 0===o?void 0:o.type]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(bt,{children:r}),Object(Y.jsx)(st,{})]})},ft=function(e,t,r,n){switch(e.type){case"gameStarted.trownDice":return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a";case"gameStarted.playerMove":return"\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0445\u043e\u0434";case"gameStarted.takeCard":return"\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"gameStarted.applyCard":return"\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"interactWithEnemy.throwBattleDice":return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a";case"interactWithEnemy.applyCard":return"\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0440\u0443\u0436\u0438\u0435";case"interactWithEnemy.makeBattleAction":case"interactWithEnemy":switch(null===t||void 0===t?void 0:t.type){case"!openEnemyCard":return"\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443";case"!getBattleResult":switch(r){case 1:case 2:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(r,": \u0438\u0433\u0440\u043e\u043a \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442 \u043e\u0440\u0443\u0436\u0438\u0435 \u0438\u043b\u0438 \u0431\u0440\u043e\u0441\u0430\u0435\u0442 \u043a\u0443\u0431\u0438\u043a ");case 3:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(r,": \u0438\u0433\u0440\u043e\u043a \u0442\u0435\u0440\u044f\u0435\u0442 1 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435");case 4:return"\u0432\u044b\u043f\u0430\u043b\u043e ".concat(r,": \u0438\u0433\u0440\u043e\u043a \u0441\u043f\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u0431\u0435\u0433\u0441\u0442\u0432\u043e\u043c ");default:return"\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0443\u0431\u0438\u043a \u0438\u043b\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0440\u0443\u0436\u0438\u0435"}default:return"\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0445\u043e\u0434"}case"endGame":return n;default:return""}},mt=Q.a.div(F||(F=Object(V.a)(["\n  /*  width: 130px; */\n  width: 100%;\n  height: 100px;\n  /*   border: 1px solid lightgray; */\n  display: grid;\n\n  grid-template-rows: 20% auto auto;\n  grid-template-columns: ",";\n  pointer-events: none;\n  margin: 0 30px;\n"])),(function(e){return"repeat(".concat(e.amount," ,25px)")})),Ot=Q.a.div(M||(M=Object(V.a)(["\n  font-size: 12px;\n  text-align: center;\n  grid-row-start: 1;\n  grid-row-end: 2;\n"]))),jt=Q.a.div(N||(N=Object(V.a)(["\n  grid-row-start: 2;\n  grid-row-end: 3;\n  & > * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-direction: column;\n    width: 100%;\n  }\n"]))),vt=Q.a.div(T||(T=Object(V.a)(["\n  grid-row-start: 3;\n  grid-row-end: 4;\n  & * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-direction: column;\n    box-sizing: border-box;\n    outline: none;\n    /*  & > * {\n      box-sizing: border-box;\n    } */\n  }\n"]))),ht=function(){return Object(Y.jsx)(mt,{amount:2,children:new Array(2).fill(0).map((function(e,t){return Object(Y.jsxs)(X.a.Fragment,{children:[Object(Y.jsx)(Ot,{children:"".concat(t+1)}),Object(Y.jsx)(jt,{children:Object(Y.jsx)(Ze,{index:t})}),Object(Y.jsx)(vt,{children:Object(Y.jsx)(nt,{index:t})})]},t)}))})},yt=Q.a.div(z||(z=Object(V.a)(["\n  margin: 100px;\n"]))),gt=function(){var e=Object(K.c)((function(e){return e.gameResult}));return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(yt,{children:["\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430. ",e]})})},xt=Q.a.button(B||(B=Object(V.a)(["\n  height: 22px;\n  margin: 140px;\n"]))),wt=function(){var e=Object(K.b)();return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(xt,{onClick:function(){e({type:"clickedStartButton"})},children:[" ","\u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"]})})},Lt=r(6),Ct=function(e){var t={name:"commonCell",cardItem:[]},r={};return e.forEach((function(e){r[e]=t})),r},St=function(e){var t,r="".concat(oe,".").concat(le),n="".concat(de,".").concat(ue);return Object(U.a)(Object(U.a)({},e),{},(t={},Object(Lt.a)(t,r,{name:"start",cardItem:[]}),Object(Lt.a)(t,n,{name:"finish",cardItem:[]}),t))},Et=function(e){var t=ce.map((function(t){var r=t.coord,n=t.barrierList,a="".concat(r.hor,".").concat(r.vert),i=e[a];return"commonCell"===i.name?[a,Object(U.a)(Object(U.a)({},i),{},{barrierList:n})]:[a,i]})),r=Object.fromEntries(t);return Object(U.a)(Object(U.a)({},e),r)},kt=[{card:{name:"health",apperance:se},amount:0},{card:{name:"boards",apperance:se},amount:0},{card:{name:"weapon",apperance:se},amount:40}],Pt=function(e,t){var r=e.map((function(e){var r=Object(te.a)(e,2),n=r[0],a=r[1];return[n,Object(U.a)(Object(U.a)({},a),{},{cardItem:[t.card]})]}));return Object.fromEntries(r)},It=function(e,t){var r=Object.entries(e).filter((function(e){var t=Object(te.a)(e,2)[1];return"commonCell"===t.name&&0===t.cardItem.length})),n=r.length,a=t.amount;return new Array(a).fill(0).reduce((function(e){var t=qt(e,n);return e?[].concat(Object(Ke.a)(e),[t]):[t]}),[]).map((function(e){return r[e]}))},qt=function e(t,r){var n=Math.floor(Math.random()*r);return t&&t.includes(n)?e(t,r):n},Ft=function(){var e=Mt();return{order:e,values:function(e){var t=kt.reduce((function(t,r){var n=Object(U.a)(Object(U.a)({},e),t),a=It(n,r),i=Pt(a,r);return Object(U.a)(Object(U.a)({},t),i)}),{});return Object(U.a)(Object(U.a)({},e),t)}(function(e){var t=Ct(e),r=Et(t);return St(r)}(e))}},Mt=function(){for(var e=de,t=ue,r=[],n=0;n<=e;n++)for(var a=0;a<=t;a++){var i="".concat(n,".").concat(a);r.push(i)}return r},Nt=function(){var e="".concat(oe,".").concat(le),t=new Array(2).fill(0).map((function(t,r){return[r,{name:"player",health:3,orderNumber:r,coord:e,inventory:[]}]}));return Object.fromEntries(t)},Tt=function(e){var t=zt(e),r=Bt(t);return _t(r)},zt=function(e){return Object.entries(e.values).filter((function(e){var t=Object(te.a)(e,2)[1];return"commonCell"===t.name&&0===t.cardItem.length}))},Bt=function(e){var t=e.length;return new Array(60).fill(0).reduce((function(e){var r=At(e,t);return e?[].concat(Object(Ke.a)(e),[r]):[r]}),[]).map((function(t){return Object(te.a)(e[t],1)[0]}))},_t=function(e){var t=e.map((function(e){var t={name:"enemy",power:1,coord:e,apperance:se};return[t.coord,t]}));return Object.fromEntries(t)},At=function e(t,r){var n=Math.floor(Math.random()*r);return t&&t.includes(n)?e(t,r):n},Rt=function(){var e=Ft();return{gameState:{type:"waitingStart"},dice:0,gameResult:"",playerList:Nt(),enemyList:Tt(e),gameField:e,doEffect:null,numberOfPlayer:0}}(),Dt=function(e,t){switch(t.type){case"clickedStartButton":return Object(U.a)(Object(U.a)({},e),{},{gameState:{type:"gameStarted.trownDice"}});default:return e}},Wt=function(e,t){return Object.entries(e).some((function(e){return Object(te.a)(e,2)[1].coord===t}))},Ht=function(e,t){var r,n=e.numberOfPlayer,a=Xt(e,t.index),i=!!a[n].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),c=(null===(r=t.card)||void 0===r||r.name,Object(U.a)(Object(U.a)({},e),{},{playerList:a,gameState:{type:"gameStarted.applyCard"}})),o=Object(U.a)(Object(U.a)({},e),{},{playerList:a,gameState:{type:"gameStarted.playerMove"}});switch(i){case!0:return c;case!1:return o}},Xt=function(e,t){var r=e.playerList,n=e.numberOfPlayer,a=r[n].inventory,i=a[t],c=a.map((function(e,r){return r===t?Object(U.a)(Object(U.a)({},e),{},{isSelected:!(null===i||void 0===i?void 0:i.isSelected)}):Object(U.a)(Object(U.a)({},e),{},{isSelected:!1})}));return Object(U.a)(Object(U.a)({},r),{},Object(Lt.a)({},n,Object(U.a)(Object(U.a)({},r[n]),{},{inventory:c})))},Gt=function(e,t){switch(t.type){case"req-checkAvailableNeighboringCell":return Ut(e);case"playerMoved":var r=t.payload;return Jt(e,r);case"req-cleanAvailableCells":return Vt(e);case"req-getPlayerMoveResult":return function(e){var t=e.gameField,r=e.playerList,n=e.numberOfPlayer,a=e.dice,i=r[n].coord,c=t.values[i],o=1===a,l="finish"===(null===c||void 0===c?void 0:c.name),d="commonCell"===(null===c||void 0===c?void 0:c.name)&&c.cardItem.length>0,u=!("commonCell"!==(null===c||void 0===c?void 0:c.name)||!e.enemyList[i]);switch(!0){case l:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameResult:"\u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438"});case d:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.takeCard"},doEffect:{type:"!openCard"}});case u:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameState:{type:"interactWithEnemy"},doEffect:{type:"!checkApperanceEnemyCard"}});case o:return Object(U.a)(Object(U.a)({},e),{},{dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"}});default:return Object(U.a)(Object(U.a)({},e),{},{dice:e.dice-1,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}})}}(e);case"cardChoosed":var n=t.payload;return Ht(e,n);default:return e}},Jt=function(e,t){var r,n=e.playerList,a=e.numberOfPlayer,i=(e.gameField,n[a].coord),c=me(i,t);switch(null===(r=e.availableCellsCoords)||void 0===r?void 0:r.includes(c)){case!0:var o=function(e,t){var r=e.playerList,n=e.numberOfPlayer;return Object(U.a)(Object(U.a)({},r),{},Object(Lt.a)({},n,Object(U.a)(Object(U.a)({},r[n]),{},{coord:t})))}(e,c);return Object(U.a)(Object(U.a)({},e),{},{playerList:o,doEffect:{type:"!cleanMarkedCell"}});case!1:default:return e}},Ut=function(e){var t=e.playerList,r=e.numberOfPlayer,n=e.gameField,a=t[r].coord,i=Oe(a,n).filter((function(t){var r=t.direction,n=t.coord;return function(e,t,r){var n=e.playerList,a=e.dice,i=je(e,t,r),c=1===a,o=Wt(n,t);switch(!0){case i:case c&&o:return!1;default:return!0}}(e,n,r)})).map((function(e){e.direction;return e.coord}));return Object(U.a)(Object(U.a)({},e),{},{availableCellsCoords:i})},Vt=function(e){e.playerList,e.numberOfPlayer,e.gameField;return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!getPlayerMoveResult"},availableCellsCoords:null})},Kt=function(e,t){switch(t.type){case"req-openCard":return Qt(e);case"req-takeCard":return Yt(e);case"req-deleteCard":return Zt(e);default:return e}},Qt=function(e){var t=e.gameField,r=e.numberOfPlayer,n=e.playerList[r].coord,a=function(e){if("commonCell"===e.name){var t=e.cardItem.map((function(e){return e?Object(U.a)(Object(U.a)({},e),{},{apperance:"open"}):null}));return Object(U.a)(Object(U.a)({},e),{},{cardItem:t})}return e}(t.values[n]),i=Object(U.a)(Object(U.a)({},t),{},{values:Object(U.a)(Object(U.a)({},t.values),{},Object(Lt.a)({},n,a))});return Object(U.a)(Object(U.a)({},e),{},{gameField:i,doEffect:{type:"!takeCard"}})},Yt=function(e){var t=e.gameField,r=e.numberOfPlayer,n=e.playerList,a=n[r],i=t.values[a.coord].cardItem,c=Object(U.a)(Object(U.a)({},a),{},{inventory:[].concat(Object(Ke.a)(a.inventory),Object(Ke.a)(i))}),o=Object(U.a)(Object(U.a)({},n),{},Object(Lt.a)({},r,c));return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!deleteCard"},playerList:o})},Zt=function(e){var t=e.gameField,r=e.numberOfPlayer,n=e.playerList[r].coord,a=function(e){return"commonCell"===e.name?Object(U.a)(Object(U.a)({},e),{},{cardItem:[]}):e}(t.values[n]),i=Object(U.a)(Object(U.a)({},t),{},{values:Object(U.a)(Object(U.a)({},t.values),{},Object(Lt.a)({},n,a))});return Object(U.a)(Object(U.a)({},e),{},{gameField:i,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"},dice:0})},$t=function(e,t){switch(t.type){case"diceThrown":return Object(U.a)(Object(U.a)({},e),{},{dice:t.payload,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}});default:return e}},er=function(e){return Object(U.a)(Object(U.a)({},e),{},{dice:0,gameState:{type:"interactWithEnemy.makeBattleAction"}})},tr=function(e){return Object(U.a)(Object(U.a)({},e),{},{dice:0,gameState:{type:"gameStarted.trownDice"}})},rr=function(e){var t=e.playerList,r=e.numberOfPlayer,n=t[r].health-1>0,a=Object(U.a)(Object(U.a)({},t),{},Object(Lt.a)({},r,Object(U.a)(Object(U.a)({},t[r]),{},{health:t[r].health-1})));return n?Object(U.a)(Object(U.a)({},e),{},{dice:0,gameState:{type:"interactWithEnemy.throwBattleDice"},playerList:a}):(console.log("\u0438\u0433\u0440\u043e\u043a \u2116".concat(r," \u043f\u043e\u0433\u0438\u0431")),Object(U.a)(Object(U.a)({},e),{},{gameState:{type:"endGame"},gameResult:"\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438",doEffect:null}))},nr=function(e,t){var r=t,n=e[r].inventory,a=e[r].inventory.findIndex((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)}));return n.filter((function(e,t){return t!==a}))},ar=function(e,t){var r=e.gameState.type.split(".");switch(Object(te.a)(r,2)[1]){case"makeBattleAction":switch(t.type){case"diceThrown":return lr(e,t);case"cardChoosed":return dr(e,t);default:return e}case"applyCard":switch(t.type){case"cardChoosed":return dr(e,t);case"req-defeatEnemy":return cr(e);case"req-removeEnemyCard":return ir(e);default:return e}case"throwBattleDice":return lr(e,t);default:switch(t.type){case"req-checkEnemyCard":return or(e);case"req-openEnemyCard":return function(e){var t=e.enemyList,r=e.playerList[e.numberOfPlayer].coord,n=t[r],a=Object(U.a)(Object(U.a)({},n),{},{apperance:"open"}),i=Object(U.a)(Object(U.a)({},t),{},Object(Lt.a)({},r,a));return Object(U.a)(Object(U.a)({},e),{},{enemyList:i,gameState:{type:"interactWithEnemy.throwBattleDice"},dice:0})}(e);case"req-getBattleResult":return function(e){switch(e.dice){case 1:case 2:return er(e);case 3:return rr(e);case 4:return tr(e);default:return e}}(e);default:return e}}},ir=function(e){var t=e.enemyList,r=e.numberOfPlayer,n=e.playerList[r].coord,a=Object(U.a)({},t);return delete a[n],Object(U.a)(Object(U.a)({},e),{},{enemyList:a,dice:0,gameState:{type:"gameStarted.getPlayersOrder"},doEffect:{type:"!getNextPlayer"}})},cr=function(e){var t=e.numberOfPlayer,r=e.playerList,n=e.enemyList,a=r[t].coord,i=n[a],c=Object(U.a)(Object(U.a)({},i),{},{apperance:"defeated"}),o=Object(U.a)(Object(U.a)({},e.enemyList),{},Object(Lt.a)({},a,c)),l=nr(r,t),d=Object(U.a)(Object(U.a)({},r),{},Object(Lt.a)({},t,Object(U.a)(Object(U.a)({},r[t]),{},{inventory:l})));return Object(U.a)(Object(U.a)({},e),{},{enemyList:o,playerList:d,doEffect:{type:"!removeEnemyCard"}})},or=function(e){var t="open"!==e.enemyList[e.playerList[e.numberOfPlayer].coord].apperance;switch(!0){case t:return Object(U.a)(Object(U.a)({},e),{},{doEffect:{type:"!openEnemyCard"}});case!t:return Object(U.a)(Object(U.a)({},e),{},{gameState:{type:"interactWithEnemy.throwBattleDice"},dice:0});default:return e}},lr=function(e,t){switch(t.type){case"diceThrown":return Object(U.a)(Object(U.a)({},e),{},{dice:t.payload,gameState:{type:"interactWithEnemy"},doEffect:{type:"!getBattleResult"}});default:return e}},dr=function(e,t){var r=e.numberOfPlayer;switch(t.type){case"cardChoosed":var n=ur(e,t.payload.index),a=!!n[r].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})),i=Object(U.a)(Object(U.a)({},e),{},{playerList:n,gameState:{type:"interactWithEnemy.applyCard"}}),c=Object(U.a)(Object(U.a)({},e),{},{playerList:n,gameState:{type:"interactWithEnemy.makeBattleAction"}});switch(a){case!0:return i;case!1:return c}default:return e}},ur=function(e,t){var r=e.playerList,n=e.numberOfPlayer,a=r[n].inventory,i=a[t],c=a.map((function(e,r){return r===t?Object(U.a)(Object(U.a)({},e),{},{isSelected:!(null===i||void 0===i?void 0:i.isSelected)}):Object(U.a)(Object(U.a)({},e),{},{isSelected:!1})}));return Object(U.a)(Object(U.a)({},r),{},Object(Lt.a)({},n,Object(U.a)(Object(U.a)({},r[n]),{},{inventory:c})))},sr=function(e,t){return e[t].health+1},br=function(e,t){var r,n=e.numberOfPlayer,a=null===(r=e.playerList[n].inventory.find((function(e){return!0===(null===e||void 0===e?void 0:e.isSelected)})))||void 0===r?void 0:r.name;switch(t.type){case"req-shareCard":return function(e,t){var r,n=e.playerList,a=e.numberOfPlayer,i=n[a].inventory,c=n[t].inventory,o=n[a].inventory.findIndex((function(e){return null===e||void 0===e?void 0:e.isSelected})),l=Object(Ke.a)(i)[o],d=Object(U.a)(Object(U.a)({},l),{},{isSelected:!1}),u=i.filter((function(e,t){return t!==o})),s=[].concat(Object(Ke.a)(c),[d]),b=Object(U.a)(Object(U.a)({},n),{},(r={},Object(Lt.a)(r,a,Object(U.a)(Object(U.a)({},n[a]),{},{inventory:u})),Object(Lt.a)(r,t,Object(U.a)(Object(U.a)({},n[t]),{},{inventory:s})),r));return Object(U.a)(Object(U.a)({},e),{},{playerList:b,gameState:{type:"gameStarted.playerMove"}})}(e,t.payload);case"cardChoosed":var i=t.payload;return Ht(e,i);default:switch(a){case"health":switch(t.type){case"req-healPlayer":var c=t.payload;switch(c===n){case!0:return function(e){var t=e.playerList,r=e.numberOfPlayer,n=r,a=sr(t,n),i=nr(t,r),c=Object(U.a)(Object(U.a)({},t),{},Object(Lt.a)({},n,Object(U.a)(Object(U.a)({},t[n]),{},{inventory:i,health:a})));return Object(U.a)(Object(U.a)({},e),{},{playerList:c,gameState:{type:"gameStarted.playerMove"}})}(e);case!1:return function(e,t){var r,n=e.playerList,a=e.numberOfPlayer,i=a,c=nr(n,a),o=sr(n,t),l=Object(U.a)(Object(U.a)({},n),{},(r={},Object(Lt.a)(r,t,Object(U.a)(Object(U.a)({},n[t]),{},{health:o})),Object(Lt.a)(r,i,Object(U.a)(Object(U.a)({},n[i]),{},{inventory:c})),r));return Object(U.a)(Object(U.a)({},e),{},{playerList:l,gameState:{type:"gameStarted.playerMove"}})}(e,c);default:return e}default:return e}case"boards":switch(t.type){case"req-fillHole":var o=t.payload,l=o.coord,d=o.direction;return console.log("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043c",l,d),function(e,t,r){var n=e.gameField,a=e.playerList,i=e.numberOfPlayer,c=i,o=nr(a,i),l=n.values[t];if("commonCell"===l.name){var d,u=null===(d=l.barrierList)||void 0===d?void 0:d.map((function(e){return e.direction===r?Object(U.a)(Object(U.a)({},e),{},{isOpen:!1}):e})),s=Object(U.a)(Object(U.a)({},n),{},{values:Object(U.a)(Object(U.a)({},n.values),{},Object(Lt.a)({},t,Object(U.a)(Object(U.a)({},n.values[t]),{},{barrierList:u})))}),b=Object(U.a)(Object(U.a)({},a),{},Object(Lt.a)({},c,Object(U.a)(Object(U.a)({},a[c]),{},{inventory:o})));return Object(U.a)(Object(U.a)({},e),{},{gameField:s,playerList:b,gameState:{type:"gameStarted.playerMove"},doEffect:{type:"!checkAvailableNeighboringCell"}})}return e}(e,l,d);default:return e}default:return e}}},pr=function(e,t){var r=e.numberOfPlayer,n=r+1>Object.entries(e.playerList).length-1?0:r+1;switch(t.type){case"req-getNextPlayer":return Object(U.a)(Object(U.a)({},e),{},{numberOfPlayer:n,gameState:{type:"gameStarted.trownDice"}});default:return e}},fr=function(e,t){switch(t.type){case"req-getEndScreen":return Object(U.a)(Object(U.a)({},e),{},{gameState:{type:"getEndScreen"}});default:return e}},mr=r(13),Or=Object(mr.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0,r=e.gameState.type.split("."),n=Object(te.a)(r,2),a=n[0],i=n[1];switch(a){case"waitingStart":return Dt(e,t);case"gameStarted":switch(i){case"trownDice":return $t(e,t);case"playerMove":return Gt(e,t);case"takeCard":return Kt(e,t);case"applyCard":return br(e,t);case"getPlayersOrder":return pr(e,t);default:return e}case"interactWithEnemy":return ar(e,t);case"endGame":return fr(e,t);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var jr=Q.a.div(_||(_=Object(V.a)(["\n  margin: 0 auto;\n"]))),vr=Q.a.div(A||(A=Object(V.a)(["\n  width: 900px;\n  margin: 40px auto;\n  display: flex;\n  justify-content: center;\n  height: 100vh;\n  cursor: default;\n"]))),hr=Q.a.div(R||(R=Object(V.a)(["\n  width: 300px;\n  height: 600px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 0;\n  align-items: start;\n  margin: 0 30px;\n  padding: 50px 0;\n  box-sizing: border-box;\n"]))),yr=Q.a.div(D||(D=Object(V.a)(["\n  display: flex;\n"]))),gr=Q.a.div(W||(W=Object(V.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  padding: 0 15px;\n  box-sizing: border-box;\n"])));function xr(){var e=Object(K.c)((function(e){return Object(U.a)({},e)})).gameState;!function(){var e=Object(K.c)((function(e){return[e.doEffect]})),t=Object(te.a)(e,1)[0],r=Object(K.b)();Object(H.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!openCard":var e=setTimeout((function(){return r({type:"req-openCard"})}),1e3);return function(){clearTimeout(e)};case"!takeCard":var n=setTimeout((function(){return r({type:"req-takeCard"})}),500);return function(){clearTimeout(n)};case"!changePlayerHealth":var a=setTimeout((function(){return r({type:"req-changePlayerHealth"})}),500);return function(){clearTimeout(a)};case"!deleteCard":var i=setTimeout((function(){return r({type:"req-deleteCard"})}),500);return function(){clearTimeout(i)};case"!getNextPlayer":r({type:"req-getNextPlayer"})}}),[t])}(),function(){var e=Object(K.c)((function(e){return[e.doEffect]})),t=Object(te.a)(e,1)[0],r=Object(K.b)();Object(H.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!checkAvailableNeighboringCell":r({type:"req-checkAvailableNeighboringCell"});break;case"!cleanMarkedCell":var e=setTimeout((function(){return r({type:"req-cleanAvailableCells"})}),0);return function(){clearTimeout(e)};case"!getPlayerMoveResult":r({type:"req-getPlayerMoveResult"})}}),[t])}(),function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return e.gameState}));Object(H.useEffect)((function(){switch(t.type){case"endGame":var r=setTimeout((function(){return e({type:"req-getEndScreen"})}),1e3);return function(){return clearTimeout(r)}}}),[t.type,e])}(),function(){var e=Object(K.c)((function(e){return[e.doEffect]})),t=Object(te.a)(e,1)[0],r=Object(K.b)();Object(H.useEffect)((function(){switch(null===t||void 0===t?void 0:t.type){case"!checkApperanceEnemyCard":r({type:"req-checkEnemyCard"});break;case"!openEnemyCard":var e=setTimeout((function(){return r({type:"req-openEnemyCard"})}),1e3);return function(){clearTimeout(e)};case"!getBattleResult":var n=setTimeout((function(){return r({type:"req-getBattleResult"})}),2e3);return function(){clearTimeout(n)};case"!removeEnemyCard":var a=setTimeout((function(){return r({type:"req-removeEnemyCard"})}),1e3);return function(){clearTimeout(a)}}}),[t])}();return Object(Y.jsx)(vr,{children:function(){switch(e.type){case"waitingStart":return Object(Y.jsx)(wt,{});case"getEndScreen":return Object(Y.jsx)(gt,{});default:return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(yr,{children:Object(Y.jsx)(ht,{})}),Object(Y.jsx)(jr,{children:Object(Y.jsx)(Ve,{})}),Object(Y.jsxs)(hr,{children:[Object(Y.jsx)(pt,{}),Object(Y.jsxs)(gr,{children:[Object(Y.jsx)(ie,{}),Object(Y.jsx)(ee,{})]})]})]})}}()})}var wr=function(){return Object(Y.jsx)(K.a,{store:Or,children:Object(Y.jsx)(xr,{})})},Lr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,35)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};J.a.render(Object(Y.jsx)(X.a.StrictMode,{children:Object(Y.jsx)(wr,{})}),document.getElementById("root")),Lr()}},[[34,1,2]]]);
//# sourceMappingURL=main.627b4578.chunk.js.map